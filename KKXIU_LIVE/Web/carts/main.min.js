var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Utils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t.selectNumberToStringNumber=function(t,e){var i=parseInt(t);return 1==e?1e4!=i?i+"":"1W":i+""},t.numberToStringNumber=function(t){if(9999>=t)return t;var e=t+"",i=e.substr(0,e.indexOf(".")+3);return i},t.stageheight=1334,t.stagewith=750,t}();__reflect(Utils.prototype,"Utils");var Ease=egret.Ease,Game=function(t){function e(){var e=t.call(this)||this;return e.isOnce=!0,e.isOnceRecharge=!0,e.isOnceShow=!0,e.flagGameShow=!0,e.updownflag=!0,window.platformInstance=e,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.gameScoketControl=new GameScoketControl(this)},e.prototype.startGame=function(t,e){this.result=t,0==e&&(this.removeChildren(),this.isOnce=!0),this.isOnce?(this.isOnceShow=!0,this.isOnce=!1,this.isOnceRecharge=!0,this.gamebg=new GameBg,this.addChild(this.gamebg),this.gameBtn=new GameBtn(this.result),this.addChild(this.gameBtn),this.gameStakeMain=new GameStakeMain(this.result,this.gameBtn,this.gameScoketControl),this.addChild(this.gameStakeMain),this.$setVisible(!1),this.gayShape=new egret.Shape,this.gayShape.graphics.beginFill(0,1),this.gayShape.graphics.drawRect(0,0,Utils.stagewith,323),this.gayShape.graphics.endFill(),this.addChild(this.gayShape),this.gayShape.alpha=.5,this.gayShape.x=0,this.gayShape.y=Utils.stageheight-391,this.gayShape.$setVisible(!1),this.gameSelect=new GameSelect,this.addChild(this.gameSelect),this.gayShape1=new egret.Shape,this.gayShape1.graphics.beginFill(0,1),this.gayShape1.graphics.drawRect(0,0,Utils.stagewith,323),this.gayShape1.graphics.endFill(),this.addChild(this.gayShape1),this.gayShape1.alpha=.5,this.gayShape1.x=0,this.gayShape1.y=Utils.stageheight-391,this.gayShape1.$setVisible(!1),this.gameEspecially=new GameEspecially,this.addChild(this.gameEspecially)):(this.gameBtn.refreshGameBtn(t),this.gameStakeMain.refreshGameStakeMain(t))},e.prototype.addGameRecharge=function(t){this.rechargeResult=t,this.isOnceRecharge?(this.isOnceRecharge=!1,this.gameRecharge=new GameRecharge(t),this.addChild(this.gameRecharge)):this.gameRecharge.refreshGameRecharge(t)},e.prototype.refreshGameScore=function(t){this.gameRecharge.refreshGameScorll(t.usergold)},e.prototype.setShowUI=function(t){this.requestResult=t,this.isOnceShow&&(this.isOnceShow=!1,this.updownflag||(this.gamebg.y=400,this.gameBtn.y=400,this.gameStakeMain.y=400,this.gayShape.y=Utils.stageheight-391+400,this.gameSelect.y=400,this.gayShape1.y=Utils.stageheight-391+400,this.gameRecharge.y=400,this.gameEspecially.showEspeciallys(!1)),this.$setVisible(!0),this.flagGameShow&&(this.flagGameShow=!1,toCompleteGame()));var e=t.state;this.gamebg.setSecTimes(t),"Rest"==e?(this.gameStakeMain.resetGameStakeMain(),this.gayShape.$setVisible(!1),this.gayShape1.$setVisible(!0),this.gameEspecially.sethitEspecially(),this.gamebg.setPromptText("准备改装"),this.gamebg.starTimes()):"WaitBet"==e?(this.gayShape.$setVisible(!1),this.gayShape1.$setVisible(!1),this.gamebg.setPromptText("开始押注"),this.gamebg.starTimes()):"LotteryStart"==e?(this.gayShape.$setVisible(!1),this.gayShape1.$setVisible(!1),this.gameSelect.setStartSelect(t),this.gamebg.setPromptText("正在开奖"),this.gamebg.starTimes()):"LotteryStop"==e?(this.gayShape.$setVisible(!1),this.gayShape1.$setVisible(!1),this.gameSelect.setEndSelect(t),"undefined"!=typeof t.halfway&&this.gamebg.setPromptText("正在开奖"),this.gamebg.starTimes()):"Result"==e&&"undefined"==typeof t.halfway&&(this.gayShape.$setVisible(!0),this.gayShape1.$setVisible(!1),this.gameEspecially.showEspecially(t),this.gameBtn.refreshHistorys(t.gameresult),this.gameRecharge.refreshGameScorll(t.gold),this.gamebg.setPromptText(""),this.gamebg.starTimes())},e.prototype.setHistory=function(t){"undefined"!=typeof this.gameBtn&&this.contains(this.gameBtn)&&this.gameBtn.refreshHistory(t.recordinfo)},e.prototype.stakeSuccess=function(t){1==t.result&&this.gameStakeMain.stakeSuccesstwo(t),"undefined"!=typeof t.gold&&this.gameRecharge.refreshGameScorll(t.gold)},e.prototype.stakeRefreshAllScore=function(t){this.gameStakeMain.RefreshAllScore(t)},e.prototype.stakeRefreshPeopleScore=function(t){this.gameStakeMain.RefreshPeopleScore(t)},e.prototype.refurbishScore=function(){if(this.contains(this.gameRecharge)){var t={packtype:"1007"},e=JSON.stringify(t);this.gameScoketControl.socket.writeUTF(e)}},e.prototype.refurshGame=function(){this.gameScoketControl.twoflag=!1,this.gameScoketControl.islogin=0,this.gameScoketControl.socket.close(),this.gameScoketControl.initWebSocket()},e.prototype.colseScoketGame=function(){this.gameScoketControl.twoflag=!1,this.gameScoketControl.islogin=0,this.gameScoketControl.socket.close()},e.prototype.updownglideGame=function(){this.updownflag?(this.updownflag=!1,this.hitdowngane()):(this.updownflag=!0,this.showdowngane())},e.prototype.hitdowngane=function(){egret.Tween.get(this.gamebg).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gameBtn).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gameStakeMain).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gayShape).to({y:Utils.stageheight-391+400},300,Ease.quadInOut),egret.Tween.get(this.gameSelect).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gayShape1).to({y:Utils.stageheight-391+400},300,Ease.quadInOut),egret.Tween.get(this.gameRecharge).to({y:400},300,Ease.quadInOut).call(this.hitdowncomplete,this,[]),this.gameEspecially.showEspeciallys(!1)},e.prototype.hitdowncomplete=function(){hitGameCompleteGame("1")},e.prototype.showdowngane=function(){this.gamebg.y=0,this.gameBtn.y=0,this.gameStakeMain.y=0,this.gayShape.y=Utils.stageheight-391,this.gameSelect.y=0,this.gayShape1.y=Utils.stageheight-391,this.gameRecharge.y=0,this.gameEspecially.showEspeciallys(!0),this.showdowncomplete()},e.prototype.showdowncomplete=function(){showGameCompleteGame("1")},e.prototype.rightleftGame=function(){},e.prototype.setScreenSize=function(t,e){if(this.contains(this.gameRecharge)){var i=this.gameBtn.historyResultlist;this.removeChildren(),this.stage.setContentSize(this.stage.stageWidth,e/t*this.stage.stageWidth),Utils.stagewith=this.stage.stageWidth,Utils.stageheight=this.stage.stageHeight,this.gamebg=new GameBg,this.addChild(this.gamebg),this.gameBtn=new GameBtn(this.result),this.addChild(this.gameBtn),this.gameStakeMain=new GameStakeMain(this.result,this.gameBtn,this.gameScoketControl),this.addChild(this.gameStakeMain),this.gayShape=new egret.Shape,this.gayShape.graphics.beginFill(0,1),this.gayShape.graphics.drawRect(0,0,Utils.stagewith,323),this.gayShape.graphics.endFill(),this.addChild(this.gayShape),this.gayShape.alpha=.5,this.gayShape.x=0,this.gayShape.y=Utils.stageheight-391,this.gayShape.$setVisible(!1),this.gameSelect=new GameSelect,this.addChild(this.gameSelect),this.gayShape1=new egret.Shape,this.gayShape1.graphics.beginFill(0,1),this.gayShape1.graphics.drawRect(0,0,Utils.stagewith,323),this.gayShape1.graphics.endFill(),this.addChild(this.gayShape1),this.gayShape1.alpha=.5,this.gayShape1.x=0,this.gayShape1.y=Utils.stageheight-391,this.gayShape1.$setVisible(!1),this.gameEspecially=new GameEspecially,this.addChild(this.gameEspecially),this.gameRecharge=new GameRecharge(this.rechargeResult),this.addChild(this.gameRecharge),this.gameBtn.refreshHistory(i),this.updownflag||(this.gamebg.y=400,this.gameBtn.y=400,this.gameStakeMain.y=400,this.gayShape.y=Utils.stageheight-391+400,this.gameSelect.y=400,this.gayShape1.y=Utils.stageheight-391+400,this.gameRecharge.y=400,this.gameEspecially.showEspeciallys(!1))}},e}(egret.DisplayObjectContainer);__reflect(Game.prototype,"Game");var Main=function(t){function e(){var e=t.call(this)||this;return window.platform=e,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/cartsgame.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){getScreen(),this.game=new Game,this.addChild(this.game)},e.prototype.setScreenSize=function(t,e){this.stage.setContentSize(this.stage.stageWidth,e/t*this.stage.stageWidth),Utils.stagewith=this.stage.stageWidth,Utils.stageheight=this.stage.stageHeight},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var GameScoketControl=function(){function t(t){this._url=window.location.href,this.socketUrl="ws://app.gameserver.kkxiu.com:5151",this.twoflag=!0,this.game=t;var e=this.GetRequest();this.token=e.token,this._vuid=e.uid,this.deviceno=e.deviceno+"",this.isfit=e.isfit+"",this.roomid=e.roomid+"","undefined"!=typeof e.httphead&&e.httphead.length>0&&(this.socketUrl=e.httphead+""),this.reconnectionTime=new egret.Timer(4e3,0),this.reconnectionTime.addEventListener(egret.TimerEvent.TIMER,this.reconnectFuncs,this),this.initWebSocket()}return t.prototype.reconnectFuncs=function(){this.initWebSocket()},t.prototype.initWebSocket=function(){this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_STRING,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this),this.socket.connectByUrl(this.socketUrl)},t.prototype.GetRequest=function(){var t=this._url.indexOf("?"),e=this._url.substring(t),i=decodeURIComponent(e),s=new Object;if(-1!=i.indexOf("?"))for(var h=i.substr(1),a=h.split("&"),r=0;r<a.length;r++)s[a[r].split("=")[0]]=unescape(a[r].split("=")[1]);return s},t.prototype.onSocketOpen=function(){this.twoflag=!0,this.reconnectionTime.stop();var t={packtype:"1002"},e=JSON.stringify(t);this.socket.writeUTF(e)},t.prototype.onSocketClose=function(){this.twoflag&&(this.twoflag=!1,console.log("中断链接"),this.islogin=0,this.reconnectionTime.start())},t.prototype.onSocketError=function(t){this.twoflag&&(this.twoflag=!1,console.log("链接错误"),this.islogin=0,this.reconnectionTime.start())},t.prototype.onReceiveMessage=function(t){var e=this.socket.readUTF(),i=JSON.parse(e);if(console.log(i),10002==i.packtype){if(1==i.result&&(this.game.startGame(i,this.islogin),"undefined"==typeof this.islogin||0==this.islogin)){var s={packtype:"1003"},h=JSON.stringify(s);this.socket.writeUTF(h);var a={packtype:"1001",uid:this._vuid,token:this.token,roomid:this.roomid},r=JSON.stringify(a);this.socket.writeUTF(r);var o={packtype:"1005"},n=JSON.stringify(o);this.socket.writeUTF(n)}}else 10001==i.packtype?1==i.result&&(this.islogin=1):20001==i.packtype?this.game.addGameRecharge(i):20002==i.packtype?1==i.result&&this.game.setShowUI(i):10003==i.packtype?1==i.result&&this.game.setHistory(i):10004==i.packtype?1==i.result?this.game.stakeSuccess(i):this.game.stakeSuccess(i):10005==i.packtype?this.game.stakeRefreshAllScore(i):10006==i.packtype?this.game.stakeRefreshPeopleScore(i):20003==i.packtype?(this.game.refreshGameScore(i),torechargeScore("1")):20004==i.packtype?toprizeScore(JSON.stringify(i.awardmsg)):10007==i.packtype&&this.game.refreshGameScore(i)},t.prototype.stakeScoke=function(t,e){var i={packtype:"1004",betname:t,betgold:e},s=JSON.stringify(i);this.socket.writeUTF(s)},t}();__reflect(GameScoketControl.prototype,"GameScoketControl");var is=egret.is,GameEspecially=function(t){function e(){var e=t.call(this)||this;return e.isShow=!0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){},e.prototype.showEspeciallys=function(t){this.isShow=t,this.isShow||this.removeChildren()},e.prototype.showEspecially=function(t){this.requestResult=t,"undefined"!=typeof t.gameresult&&("SmallBonus"==t.gameresult&&""!=t.score?this.ShowSamllthree(t):"BigBonus"==t.gameresult&&""!=t.score?this.ShowBigthree(t):this.isShow&&""!=t.score&&this.ShowOrdinaryEspecially(t),this.isShow&&this.commondOrdinaryEspecially(t))},e.prototype.ShowSamllthree=function(t){this.removeChildren(),this.gameSpecialEspecially=new GameSpecialEspecially(t,2),this.addChild(this.gameSpecialEspecially)},e.prototype.ShowBigthree=function(t){this.removeChildren(),this.gameSpecialEspecially=new GameSpecialEspecially(t,1),this.addChild(this.gameSpecialEspecially)},e.prototype.ShowOrdinaryEspecially=function(t){var e=parseInt(t.score);e>=0?(this.removeChildren(),this.samllPrize=Utils.createBitmapByName("gameproject_json.samllPrize"),this.addChild(this.samllPrize),this.samllPrize.anchorOffsetX=this.samllPrize.width/2,this.samllPrize.anchorOffsetY=this.samllPrize.height/2,this.samllPrize.y=Utils.stageheight-524,this.samllPrize.x=Utils.stagewith/2,this.gameSymbolNumber=new GameSymbolNumber(Math.abs(e),"samllnumber_json.","add"),this.addChild(this.gameSymbolNumber),this.gameSymbolNumber.y=Utils.stageheight-524):(this.removeChildren(),this.samllPrize=Utils.createBitmapByName("gameproject_json.bigPrize"),this.addChild(this.samllPrize),this.samllPrize.anchorOffsetX=this.samllPrize.width/2,this.samllPrize.anchorOffsetY=this.samllPrize.height/2,this.samllPrize.y=Utils.stageheight-524,this.samllPrize.x=Utils.stagewith/2,this.gameSymbolNumber=new GameSymbolNumber(Math.abs(e),"lostAndtime_json.","reduce"),this.addChild(this.gameSymbolNumber),this.gameSymbolNumber.y=Utils.stageheight-524)},e.prototype.commondOrdinaryEspecially=function(t){this.gameOrdinaryEspecially=new GameOrdinaryEspecially(t),this.addChild(this.gameOrdinaryEspecially)},e.prototype.sethitEspecially=function(){this.removeChildren()},e}(egret.DisplayObjectContainer);__reflect(GameEspecially.prototype,"GameEspecially");var GameEspeciallyMath=function(t){function e(e,i){var s=t.call(this)||this;return s.numbersString=e+"",s.numberbitmaphead=i,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.setnumber(this.numbersString)},e.prototype.setnumber=function(t){this.removeChildren(),this.numberbitMapList=new Array,this.numbersString=t+"",this.scoreNumberlist=this.numbersString.split("");for(var e=0;e<this.numbersString.length;e++){var i=Utils.createBitmapByName(this.numberbitmaphead+this.scoreNumberlist[e]);this.addChild(i),i.anchorOffsetY=i.height/2,i.anchorOffsetX=i.width/2,this.numberbitMapList.length<=0?i.x=e*i.width:i.x=this.numberbitMapList[e-1].x+this.numberbitMapList[e-1].width/2+i.width/2-8,this.numberbitMapList.push(i)}for(var s=0,h=0;h<this.numberbitMapList.length;h++)s+=this.numberbitMapList[h].width;for(var a=(Utils.stagewith-s)/2,r=0;r<this.numberbitMapList.length;r++)this.numberbitMapList[r].x=this.numberbitMapList[r].x+a+this.numberbitMapList[0].width/2},e}(egret.Sprite);__reflect(GameEspeciallyMath.prototype,"GameEspeciallyMath");var GameOrdinaryEspecially=function(t){function e(e){var i=t.call(this)||this;return i.resurtList={Car1_A:{x:Utils.stagewith-584,y:Utils.stageheight-279},Car2_A:{x:Utils.stagewith-584+172,y:Utils.stageheight-279},Car3_A:{x:Utils.stagewith-584+172+173,y:Utils.stageheight-279},Car1_B:{x:Utils.stagewith-584,y:Utils.stageheight-185},Car2_B:{x:Utils.stagewith-584+172,y:Utils.stageheight-185},Car3_B:{x:Utils.stagewith-584+172+173,y:Utils.stageheight-185},BigBonus:[{x:Utils.stagewith-584,y:Utils.stageheight-279},{x:Utils.stagewith-584+172,y:Utils.stageheight-279},{x:Utils.stagewith-584+172+173,y:Utils.stageheight-279}],SmallBonus:[{x:Utils.stagewith-584,y:Utils.stageheight-185},{x:Utils.stagewith-584+172,y:Utils.stageheight-185},{x:Utils.stagewith-584+172+173,y:Utils.stageheight-185}]},i.i=0,i.requestResult=e,i.icon=e.gameresult,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.huxi=Utils.createBitmapByName("huxi_json.huxi0"),this.huxi1=Utils.createBitmapByName("huxi_json.huxi0"),this.huxi2=Utils.createBitmapByName("huxi_json.huxi0"),this.huxi3=Utils.createBitmapByName("huxi_json.huxi0"),this.resultXY=this.resurtList[this.icon],"SmallBonus"==this.requestResult.gameresult?(this.addChild(this.huxi1),this.huxi1.anchorOffsetX=this.huxi1.width/2,this.huxi1.anchorOffsetY=this.huxi1.height/2,this.huxi1.x=this.resultXY[0].x+2,this.huxi1.y=this.resultXY[0].y,this.addChild(this.huxi2),this.huxi2.anchorOffsetX=this.huxi2.width/2,this.huxi2.anchorOffsetY=this.huxi2.height/2,this.huxi2.x=this.resultXY[1].x+2,this.huxi2.y=this.resultXY[1].y,this.addChild(this.huxi3),this.huxi3.anchorOffsetX=this.huxi3.width/2,this.huxi3.anchorOffsetY=this.huxi3.height/2,this.huxi3.x=this.resultXY[2].x+2,this.huxi3.y=this.resultXY[2].y):"BigBonus"==this.requestResult.gameresult?(this.addChild(this.huxi1),this.huxi1.anchorOffsetX=this.huxi1.width/2,this.huxi1.anchorOffsetY=this.huxi1.height/2,this.huxi1.x=this.resultXY[0].x+2,this.huxi1.y=this.resultXY[0].y,this.addChild(this.huxi2),this.huxi2.anchorOffsetX=this.huxi2.width/2,this.huxi2.anchorOffsetY=this.huxi2.height/2,this.huxi2.x=this.resultXY[1].x+2,this.huxi2.y=this.resultXY[1].y,this.addChild(this.huxi3),this.huxi3.anchorOffsetX=this.huxi3.width/2,this.huxi3.anchorOffsetY=this.huxi3.height/2,this.huxi3.x=this.resultXY[2].x+2,this.huxi3.y=this.resultXY[2].y):(this.addChild(this.huxi),this.huxi.anchorOffsetX=this.huxi.width/2,this.huxi.anchorOffsetY=this.huxi.height/2,this.huxi.x=this.resultXY.x+2,this.huxi.y=this.resultXY.y),this.addEventListener(egret.Event.ENTER_FRAME,this.ordinaryAnimal,this)},e.prototype.ordinaryAnimal=function(){this.i++,this.contains(this.huxi)?this.huxi.texture=RES.getRes("huxi_json.huxi"+this.i%24):(this.huxi1.texture=RES.getRes("huxi_json.huxi"+this.i%24),this.huxi2.texture=RES.getRes("huxi_json.huxi"+this.i%24),this.huxi3.texture=RES.getRes("huxi_json.huxi"+this.i%24))},e}(egret.DisplayObjectContainer);__reflect(GameOrdinaryEspecially.prototype,"GameOrdinaryEspecially");var GameSpecialEspecially=function(t){function e(e,i){var s=t.call(this)||this;return s.numberScore=0,s.samll_n=0,s.showTextScore=0,s.requestResult=e,""!=e.score&&(s.numberScore=parseInt(e.score)),s.times=parseInt(e.time),s.istype=i,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.samllBoltleft=new egret.Bitmap,this.addChild(this.samllBoltleft),this.samllBoltRight=new egret.Bitmap,this.samllBoltRight.scaleX=-1,this.addChild(this.samllBoltRight),this.rightPrize=Utils.createBitmapByName("gameproject_json.rightPrize"),this.addChild(this.rightPrize),this.rightPrize.anchorOffsetX=this.rightPrize.width,this.rightPrize.anchorOffsetY=this.rightPrize.height/2,this.rightPrize.y=350+this.rightPrize.height/2,this.rightPrize.x=Utils.stagewith+this.rightPrize.width,this.leftPrize=Utils.createBitmapByName("gameproject_json.leftPrize"),this.addChild(this.leftPrize),this.leftPrize.anchorOffsetY=this.rightPrize.height/2,this.leftPrize.y=this.rightPrize.y,this.leftPrize.x=-this.leftPrize.width,this.withinRound=Utils.createBitmapByName("gameproject_json.withinRound"),this.withinRound.anchorOffsetX=this.withinRound.width/2,this.withinRound.anchorOffsetY=this.withinRound.height/2,this.withinRound.x=Utils.stagewith/2,this.withinRound.scaleX=0,this.withinRound.scaleY=0,this.addChild(this.withinRound),this.middleRound=Utils.createBitmapByName("gameproject_json.middleRound"),this.middleRound.anchorOffsetX=this.middleRound.width/2,this.middleRound.anchorOffsetY=this.middleRound.height/2,this.middleRound.x=this.withinRound.x,this.middleRound.scaleX=0,this.middleRound.scaleY=0,this.addChild(this.middleRound),this.outsideRound=Utils.createBitmapByName("gameproject_json.outsideRound"),this.outsideRound.anchorOffsetX=this.outsideRound.width/2,this.outsideRound.anchorOffsetY=this.outsideRound.height/2,this.outsideRound.x=this.middleRound.x,this.outsideRound.scaleX=0,this.outsideRound.scaleY=0,this.addChild(this.outsideRound),this.oneBigBolt=new egret.Bitmap,this.addChild(this.oneBigBolt),this.twoBigBolt=new egret.Bitmap,this.addChild(this.twoBigBolt),this.threeBigBolt=new egret.Bitmap,this.addChild(this.threeBigBolt),1==this.istype?(this.Car1_A=Utils.createBitmapByName("gameproject_json.Car1_A"),this.Car1_A.anchorOffsetY=this.Car1_A.height/2,this.Car1_A.anchorOffsetX=this.Car1_A.width/2,this.Car1_A.x=Utils.stagewith-584,this.Car1_A.y=Utils.stageheight-279,this.Car1_A.scaleX=.85,this.Car1_A.scaleY=.85,this.addChild(this.Car1_A),this.Car2_A=Utils.createBitmapByName("gameproject_json.Car2_A"),this.Car2_A.anchorOffsetY=this.Car2_A.height/2,this.Car2_A.anchorOffsetX=this.Car2_A.width/2,this.Car2_A.y=this.Car1_A.y,this.Car2_A.x=this.Car1_A.x+172,this.Car2_A.scaleX=.85,this.Car2_A.scaleY=.85,this.addChild(this.Car2_A),this.Car3_A=Utils.createBitmapByName("gameproject_json.Car3_A"),this.Car3_A.anchorOffsetY=this.Car3_A.height/2,this.Car3_A.anchorOffsetX=this.Car3_A.width/2,this.Car3_A.y=this.Car2_A.y,this.Car3_A.x=this.Car2_A.x+173,this.Car3_A.scaleX=.85,this.Car3_A.scaleY=.85,this.addChild(this.Car3_A),this.goldCar=Utils.createBitmapByName("gameproject_json.goldCar"),this.addChild(this.goldCar),this.goldCar.anchorOffsetY=this.goldCar.height/2,this.goldCar.anchorOffsetX=this.goldCar.width/2,this.goldCar.scaleX=.4,this.goldCar.scaleY=.4,this.goldCar.x=Utils.stagewith/2,this.goldCar.y=Utils.stageheight-357,egret.Tween.get(this.goldCar).to({scaleX:1,scaleY:1,y:446+this.goldCar.height/2},1e3,egret.Ease.sineIn).call(this.showBg,this,[]),egret.Tween.get(this.Car1_A).to({y:655+this.Car1_A.height/2,x:Utils.stagewith-199-this.Car1_A.width/2-this.Car2_A.width-this.Car1_A.width},1e3,egret.Ease.sineIn),egret.Tween.get(this.Car2_A).to({scaleX:1,scaleY:1,y:655+this.Car1_A.height/2,x:Utils.stagewith-199-this.Car1_A.width/2-this.Car2_A.width},1e3,egret.Ease.sineIn),egret.Tween.get(this.Car3_A).to({scaleX:1,scaleY:1,y:655+this.Car1_A.height/2,x:Utils.stagewith-199-this.Car1_A.width/2},1e3,egret.Ease.sineIn),this.bigthree=Utils.createBitmapByName("gameproject_json.bigthree"),this.addChild(this.bigthree),this.bigthree.anchorOffsetY=this.bigthree.height/2,this.bigthree.anchorOffsetX=this.bigthree.width/2,this.bigthree.x=Utils.stagewith/2,this.bigthree.y=557+this.bigthree.height/2,this.bigthree.alpha=0,this.bigthree.scaleX=0,this.bigthree.scaleY=0):2==this.istype&&(this.Car1_B=Utils.createBitmapByName("gameproject_json.Car1_B"),this.Car1_B.anchorOffsetY=this.Car1_B.height/2,this.Car1_B.anchorOffsetX=this.Car1_B.width/2,this.Car1_B.x=Utils.stagewith-584,this.Car1_B.y=Utils.stageheight-185,this.Car1_B.scaleX=.85,this.Car1_B.scaleY=.85,this.addChild(this.Car1_B),this.Car2_B=Utils.createBitmapByName("gameproject_json.Car2_B"),this.Car2_B.anchorOffsetY=this.Car2_B.height/2,this.Car2_B.anchorOffsetX=this.Car2_B.width/2,this.Car2_B.x=this.Car1_B.x+172,this.Car2_B.y=this.Car1_B.y,this.Car2_B.scaleX=.85,this.Car2_B.scaleY=.85,this.addChild(this.Car2_B),this.Car3_B=Utils.createBitmapByName("gameproject_json.Car3_B"),this.Car3_B.anchorOffsetY=this.Car3_B.height/2,this.Car3_B.anchorOffsetX=this.Car3_B.width/2,this.Car3_B.x=this.Car2_B.x+173,this.Car3_B.y=this.Car2_B.y,this.Car3_B.scaleX=.85,this.Car3_B.scaleY=.85,this.addChild(this.Car3_B),this.silverCar=Utils.createBitmapByName("gameproject_json.silverCar"),this.addChild(this.silverCar),this.silverCar.anchorOffsetY=this.silverCar.height/2,this.silverCar.anchorOffsetX=this.silverCar.width/2,this.silverCar.scaleX=.4,this.silverCar.scaleY=.4,this.silverCar.x=Utils.stagewith/2,this.silverCar.y=Utils.stageheight-100,egret.Tween.get(this.silverCar).to({scaleX:1,scaleY:1,y:446+this.silverCar.height/2},1500,egret.Ease.sineIn).call(this.showBg,this,[]),egret.Tween.get(this.Car1_B).to({y:655+this.Car1_B.height/2,x:Utils.stagewith-199-this.Car1_B.width/2-this.Car2_B.width-this.Car1_B.width},1500,egret.Ease.sineIn),egret.Tween.get(this.Car2_B).to({scaleX:1,scaleY:1,y:655+this.Car1_B.height/2,x:Utils.stagewith-199-this.Car1_B.width/2-this.Car2_B.width},1500,egret.Ease.sineIn),egret.Tween.get(this.Car3_B).to({scaleX:1,scaleY:1,y:655+this.Car1_B.height/2,x:Utils.stagewith-199-this.Car1_B.width/2},1500,egret.Ease.sineIn),this.samllthree=Utils.createBitmapByName("gameproject_json.samllthree"),this.addChild(this.samllthree),this.samllthree.anchorOffsetY=this.samllthree.height/2,this.samllthree.anchorOffsetX=this.samllthree.width/2,this.samllthree.x=Utils.stagewith/2,this.samllthree.y=557+this.samllthree.height/2,this.samllthree.alpha=0,this.samllthree.scaleX=0,this.samllthree.scaleY=0);var e=RES.getRes("lizi_png"),i=RES.getRes("lizi_json");this._rainParticle=new particle.GravityParticleSystem(e,i),this.addChild(this._rainParticle),this._rainParticle.start()},e.prototype.showBg=function(){1==this.istype?this.withinRound.y=this.goldCar.y:2==this.istype&&(this.withinRound.y=this.silverCar.y),this.middleRound.y=this.withinRound.y,this.outsideRound.y=this.middleRound.y,egret.Tween.get(this.rightPrize).to({x:Utils.stagewith},1e3,egret.Ease.backOut),egret.Tween.get(this.leftPrize).to({x:0},1e3,egret.Ease.backOut).call(this.showBgRound,this,[]),1==this.istype?egret.Tween.get(this.bigthree).to({scaleX:1,scaleY:1,alpha:1},300,egret.Ease.backOut):2==this.istype&&egret.Tween.get(this.samllthree).to({scaleX:1,scaleY:1,alpha:1},300,egret.Ease.backOut),egret.Tween.get(this.withinRound).to({scaleX:1,scaleY:1},100,egret.Ease.sineIn),egret.Tween.get(this.middleRound).to({scaleX:1,scaleY:1},100,egret.Ease.sineIn),egret.Tween.get(this.outsideRound).to({scaleX:1,scaleY:1},100,egret.Ease.sineIn)},e.prototype.showBgRound=function(){egret.Tween.get(this.rightPrize,{loop:!0}).to({x:Utils.stagewith+5},1500,egret.Ease.backOut).to({x:Utils.stagewith},1500,egret.Ease.backOut),egret.Tween.get(this.leftPrize,{loop:!0}).to({x:-5},1500,egret.Ease.backOut).to({x:0},1500,egret.Ease.backOut),egret.Tween.get(this.withinRound,{loop:!0}).to({rotation:-3600},25e3,egret.Ease.quadInOut),egret.Tween.get(this.middleRound,{loop:!0}).to({rotation:3600},25e3,egret.Ease.quadInOut),egret.Tween.get(this.outsideRound,{loop:!0}).to({rotation:-3600},25e3,egret.Ease.quadInOut),""!=this.requestResult.score&&(this.samllPrize=Utils.createBitmapByName("gameproject_json.samllPrize"),this.addChild(this.samllPrize),this.samllPrize.anchorOffsetX=this.samllPrize.width/2,this.samllPrize.anchorOffsetY=this.samllPrize.height/2,this.samllPrize.y=810,this.samllPrize.x=Utils.stagewith/2),this.numberScoreText=new GameSymbolNumber(Math.ceil(this.numberScore/150)+"","supernumber_json.","add"),""!=this.requestResult.score&&this.addChild(this.numberScoreText),this.numberScoreText.y=810,this.addEventListener(egret.Event.ENTER_FRAME,this.boltAnimation,this)},e.prototype.boltAnimation=function(){if(""!=this.requestResult.score)if(this.showTextScore>=this.numberScore)this.showTextScore=this.numberScore,this.numberScoreText.setnumberSymbol(this.showTextScore);else{var t=Math.ceil(this.numberScore/30/(this.times-3));this.showTextScore+=t,this.numberScoreText.setnumberSymbol(this.showTextScore)}var e=RES.getRes("samllBolt_json.skeleton-animation3_"+this.samll_n%40);this.samllBoltleft.texture=e,this.samllBoltleft.anchorOffsetY=this.samllBoltleft.height/2,this.samllBoltleft.anchorOffsetX=this.samllBoltleft.width/2,this.samllBoltleft.x=150,1==this.istype?this.samllBoltleft.y=this.goldCar.y:2==this.istype&&(this.samllBoltleft.y=this.silverCar.y),this.samllBoltRight.texture=e,this.samllBoltRight.anchorOffsetY=this.samllBoltRight.height/2,this.samllBoltRight.anchorOffsetX=this.samllBoltRight.width/2,this.samllBoltRight.x=Utils.stagewith-150,1==this.istype?this.samllBoltRight.y=this.goldCar.y:2==this.istype&&(this.samllBoltRight.y=this.silverCar.y);var i=RES.getRes("skeleton-animation2_"+this.samll_n%40);if(this.oneBigBolt.texture=i,this.oneBigBolt.anchorOffsetX=this.oneBigBolt.width-115,this.oneBigBolt.anchorOffsetY=this.oneBigBolt.height/2,1==this.istype?(this.oneBigBolt.x=this.goldCar.x,this.oneBigBolt.y=this.goldCar.y):2==this.istype&&(this.oneBigBolt.x=this.silverCar.x,this.oneBigBolt.y=this.silverCar.y),this.twoBigBolt.texture=i,this.twoBigBolt.anchorOffsetX=this.twoBigBolt.width-115,this.twoBigBolt.anchorOffsetY=this.twoBigBolt.height/2,this.twoBigBolt.x=this.oneBigBolt.x,this.twoBigBolt.y=this.oneBigBolt.y,this.threeBigBolt.texture=i,this.threeBigBolt.anchorOffsetX=this.threeBigBolt.width-115,this.threeBigBolt.anchorOffsetY=this.threeBigBolt.height/2,this.threeBigBolt.x=this.oneBigBolt.x,this.threeBigBolt.y=this.oneBigBolt.y,this.samll_n%40==0){var s=[0,1,2,3,4,5,6,7,8,9];s.sort(this.randomSort),this.oneBigBolt.rotation=40*s[0],this.twoBigBolt.rotation=40*s[3],this.threeBigBolt.rotation=40*s[7]}this.samll_n++},e.prototype.randomSort=function(t,e){return Math.random()>.5?-1:1},e}(egret.DisplayObjectContainer);__reflect(GameSpecialEspecially.prototype,"GameSpecialEspecially");var GameSymbolNumber=function(t){function e(e,i,s){var h=t.call(this)||this;return h.numbersString=e+"",h.numberbitmaphead=i,h.symbolres=s,h.addEventListener(egret.Event.ADDED_TO_STAGE,h.onAddToStage,h),h}return __extends(e,t),e.prototype.onAddToStage=function(t){this.gameEspeciallyMath=new GameEspeciallyMath(this.numbersString,this.numberbitmaphead),this.addChild(this.gameEspeciallyMath),this.symbol=Utils.createBitmapByName(this.numberbitmaphead+this.symbolres),this.addChild(this.symbol),this.symbol.anchorOffsetY=this.symbol.height/2,this.symbol.anchorOffsetX=this.symbol.width/2,this.symbol.x=this.gameEspeciallyMath.getChildAt(0).x-this.symbol.width/2,this.gameEspeciallyMath.x=this.symbol.width/2},e.prototype.setnumberSymbol=function(t){this.gameEspeciallyMath.setnumber(t),this.symbol.x=this.gameEspeciallyMath.getChildAt(0).x-this.symbol.width/2,this.gameEspeciallyMath.x=this.symbol.width/2},e}(egret.DisplayObjectContainer);__reflect(GameSymbolNumber.prototype,"GameSymbolNumber");var ChipData=function(){function t(t,e,i){this.chipX=t,this.chipY=e,this.chipScore=i}return t}();__reflect(ChipData.prototype,"ChipData");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e
},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var GameBg=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.rechargebottn=new egret.Shape,this.rechargebottn.graphics.beginFill(0,1),this.rechargebottn.graphics.drawRect(0,Utils.stageheight-59,300,50),this.rechargebottn.graphics.endFill(),this.addChild(this.rechargebottn),this.rechargebottn.alpha=1,this.rechargebottn.touchEnabled=!0,this.rechargebottn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeMeth,this),this.bg=Utils.createBitmapByName("gameproject_json.bj"),this.bg.anchorOffsetX=this.bg.width/2,this.bg.anchorOffsetY=this.bg.height/2,this.bg.x=Utils.stagewith/2,this.bg.y=Utils.stageheight-this.bg.height/2,this.addChild(this.bg)},e.prototype.rechargeMeth=function(){torechargeScore("0")},e.prototype.setSecTimes=function(t){"undefined"!=typeof this.times&&this.contains(this.times)&&this.removeChild(this.times),this.stateType=t.state,this.requestResult=t,this.showTime=new egret.Timer(1e3,1),this.showTime.addEventListener(egret.TimerEvent.TIMER,this.timerFuncs,this),this.showTime.stop()},e.prototype.starTimes=function(){this.showTime.start()},e.prototype.setPromptText=function(t){"undefined"!=typeof this.promptText?(this.promptText.text=t,this.promptText.anchorOffsetY=this.promptText.height/2,this.promptText.anchorOffsetX=this.promptText.width/2,this.promptText.x=Utils.stagewith/2,this.promptText.y=Utils.stageheight-35):(this.promptText=new egret.TextField,this.promptText.verticalAlign=egret.VerticalAlign.BOTTOM,this.promptText.fontFamily="SimHei",this.promptText.size=26,this.promptText.textColor=16777215,this.promptText.bold=!0,this.addChild(this.promptText),this.promptText.text=t,this.promptText.anchorOffsetY=this.promptText.height/2,this.promptText.anchorOffsetX=this.promptText.width/2,this.promptText.x=Utils.stagewith/2,this.promptText.y=Utils.stageheight-35)},e.prototype.setTimesSec=function(t,e){this.sec=t,this.timeType=e,this.contains(this.times)&&this.removeChild(this.times),this.times=new GameEspeciallyMath(this.sec,"lostAndtime_json."),this.addChild(this.times),this.times.y=Utils.stageheight-35,"undefined"!=typeof this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null),this.timer=new egret.Timer(1e3,this.sec),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start()},e.prototype.timerFunc=function(){0!=this.sec&&(0==this.timeType?this.sec<=4&&(this.times.numberbitmaphead="samllnumber_json."):1==this.timeType&&(this.times.numberbitmaphead="lostAndtime_json."),this.sec--,this.times.setnumber(this.sec))},e.prototype.timerFuncs=function(){this.setPromptText(""),"Rest"==this.stateType?(this.setTimesSec(parseInt(this.requestResult.time),1),this.times.$setVisible(!0)):"WaitBet"==this.stateType?(this.setTimesSec(parseInt(this.requestResult.time),0),this.times.$setVisible(!0)):"LotteryStart"==this.stateType?(this.setTimesSec(parseInt(this.requestResult.time),1),this.times.$setVisible(!1)):"LotteryStop"==this.stateType?(this.setTimesSec(parseInt(this.requestResult.time),1),this.times.$setVisible(!1)):"Result"==this.stateType&&(this.setTimesSec(parseInt(this.requestResult.time),1),this.times.$setVisible(!1))},e}(egret.Sprite);__reflect(GameBg.prototype,"GameBg");var GameBtn=function(t){function e(e){var i=t.call(this)||this;return i.isShowHistory=!0,i.showData=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.gameSelectScore=new GameSelectScore(this.showData,this),this.addChild(this.gameSelectScore),this.gameSelectScore.$setVisible(!0),this.historyBtn=Utils.createBitmapByName("gameproject_json.history_off"),this.addChild(this.historyBtn),this.historyBtn.anchorOffsetX=this.historyBtn.width/2,this.historyBtn.anchorOffsetY=this.historyBtn.height/2,this.historyBtn.y=Utils.stageheight-35,this.historyBtn.x=Utils.stagewith-5-this.historyBtn.width/2,this.historyBtn.touchEnabled=!0,this.historyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showHistory,this)},e.prototype.showHistory=function(){this.isShowHistory?(this.isShowHistory=!1,this.historyBtn.texture=RES.getRes("gameproject_json.history_on"),this.historyResultlist.length>0&&(this.gameHistoryParent=new GameHistoryParent(this.historyResultlist),this.addChild(this.gameHistoryParent)),this.gameSelectScore.$setVisible(!1)):(this.isShowHistory=!0,this.historyBtn.texture=RES.getRes("gameproject_json.history_off"),"undefined"!=typeof this.gameHistoryParent&&this.contains(this.gameHistoryParent)&&this.removeChild(this.gameHistoryParent),this.gameSelectScore.$setVisible(!0))},e.prototype.refreshGameBtn=function(t){this.showData=t,this.gameSelectScore.setNewShowData(this.showData)},e.prototype.refreshHistory=function(t){this.historyResultlist=t},e.prototype.refreshHistorys=function(t){this.historyResultlist.unshift({record:t}),this.contains(this.gameHistoryParent)&&(this.removeChild(this.gameHistoryParent),this.gameHistoryParent=new GameHistoryParent(this.historyResultlist),this.addChild(this.gameHistoryParent))},e.prototype.setChip=function(t,e,i){this.chipData=new ChipData(t,e,i)},e.prototype.getChip=function(){return this.chipData},e}(egret.DisplayObjectContainer);__reflect(GameBtn.prototype,"GameBtn");var GameHistory=function(t){function e(e){var i=t.call(this)||this;return i.historyResultlist=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.historyResultlist.length;e++){var i=Utils.createBitmapByName("historyCarIcon_json."+this.historyResultlist[e].record);this.addChild(i),i.anchorOffsetY=i.height/2,i.anchorOffsetX=i.width/2,i.x=Utils.stagewith-285+i.width*e,i.y=Utils.stageheight-35}this.newText=Utils.createBitmapByName("historyCarIcon_json.new"),this.addChild(this.newText),this.newText.anchorOffsetY=this.newText.height/2,this.newText.anchorOffsetX=this.newText.width/2,this.newText.y=Utils.stageheight-20,this.newText.x=Utils.stagewith-270},e}(egret.DisplayObjectContainer);__reflect(GameHistory.prototype,"GameHistory");var GameHistoryParent=function(t){function e(e){var i=t.call(this)||this;return i._touchStatus=!1,i._distance=new egret.Point,i.historyResultlist=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.shadeShape=new egret.Shape,this.shadeShape.graphics.beginFill(0,1),this.shadeShape.graphics.drawRect(0,0,240,50),this.shadeShape.graphics.endFill(),this.addChild(this.shadeShape),this.shadeShape.anchorOffsetX=this.shadeShape.width/2,this.shadeShape.anchorOffsetY=this.shadeShape.height/2,this.shadeShape.x=Utils.stagewith-310+this.shadeShape.width/2,this.shadeShape.y=Utils.stageheight-35,this.gameHistory=new GameHistory(this.historyResultlist),this.addChild(this.gameHistory),this.gameHistory.mask=this.shadeShape,this.gameHistory.touchEnabled=!0,this.gameHistory.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.gameHistory.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this)},e.prototype.mouseDown=function(t){this._touchStatus=!0,this._distance.x=t.stageX-this.gameHistory.x,this.gameHistory.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e.prototype.mouseMove=function(t){this._touchStatus&&(this.gameHistory.x=t.stageX-this._distance.x,this.gameHistory.x>=0?this.gameHistory.x=0:this.gameHistory.x<-48*(this.historyResultlist.length-5)&&(this.gameHistory.x=-48*(this.historyResultlist.length-5)))},e.prototype.mouseUp=function(t){this._touchStatus=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e}(egret.DisplayObjectContainer);__reflect(GameHistoryParent.prototype,"GameHistoryParent");var GameRecharge=function(t){function e(e){var i=t.call(this)||this;return i.showData=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(){toOnChangeScore(this.showData.gold),this.recharge=new egret.TextField,this.recharge.verticalAlign=egret.VerticalAlign.TOP,this.recharge.size=27,this.recharge.fontFamily="SimHei",this.recharge.textColor=16777215,this.recharge.text="充值 > ",this.recharge.anchorOffsetX=this.recharge.width/2,this.recharge.anchorOffsetY=this.recharge.height/2,this.recharge.x=this.recharge.width/2+20,this.recharge.y=Utils.stageheight-35,this.addChild(this.recharge),this.scoreAll=new egret.TextField,this.scoreAll.verticalAlign=egret.VerticalAlign.TOP,this.scoreAll.size=30,this.scoreAll.fontFamily="SimHei",this.scoreAll.textColor=16777215,this.scoreAll.text=this.showData.gold,this.scoreAll.anchorOffsetX=this.scoreAll.width/2,this.scoreAll.anchorOffsetY=this.scoreAll.height/2,this.scoreAll.x=this.recharge.width+this.scoreAll.width/2+20,this.scoreAll.y=this.recharge.y,this.addChild(this.scoreAll),this.scoreIcon=Utils.createBitmapByName("gameproject_json.scoreicon"),this.addChild(this.scoreIcon),this.scoreIcon.anchorOffsetX=this.scoreIcon.width/2,this.scoreIcon.anchorOffsetY=this.scoreIcon.height/2,this.scoreIcon.x=this.recharge.width+this.scoreAll.width+this.scoreIcon.width+10,this.scoreIcon.y=this.recharge.y},e.prototype.refreshGameRecharge=function(t){this.showData=t,this.refreshGameScorll(this.showData.gold),toOnChangeScore(this.showData.gold)},e.prototype.refreshGameScorll=function(t){toOnChangeScore(t),this.scoreAll.text=t,this.scoreAll.anchorOffsetX=this.scoreAll.width/2,this.scoreAll.anchorOffsetY=this.scoreAll.height/2,this.scoreAll.x=this.recharge.width+this.scoreAll.width/2+20,this.scoreAll.y=this.recharge.y,this.scoreIcon.x=this.recharge.width+this.scoreAll.width+this.scoreIcon.width+10,this.scoreIcon.y=this.recharge.y},e}(egret.DisplayObjectContainer);__reflect(GameRecharge.prototype,"GameRecharge");var GameSelect=function(t){function e(){var e=t.call(this)||this;return e.checksWidth=Utils.stagewith/7,e.checksHeight=63.75,e.m=3,e.n=0,e.i=0,e.maxSpeed=1,e.minSpeed=30,e.speed=30,e.isAddandReduce=!0,e.reduceFirstState=!0,e.isPostion=5,e.showList=[{m:0,n:0},{m:1,n:0},{m:2,n:0},{m:3,n:0},{m:4,n:0},{m:5,n:0},{m:6,n:0},{m:6,n:1},{m:6,n:2},{m:6,n:3},{m:6,n:4},{m:5,n:4},{m:4,n:4},{m:3,n:4},{m:2,n:4},{m:1,n:4},{m:0,n:4},{m:0,n:3},{m:0,n:2},{m:0,n:1}],e.reusltlist={Car1_A:[{m:0,n:1},{m:6,n:0},{m:4,n:4}],Car2_A:[{m:1,n:0},{m:6,n:2},{m:1,n:4}],Car3_A:[{m:4,n:0},{m:6,n:4},{m:0,n:3}],Car1_B:[{m:0,n:0},{m:6,n:1},{m:2,n:4}],Car2_B:[{m:2,n:0},{m:6,n:3},{m:0,n:4}],Car3_B:[{m:5,n:0},{m:0,n:2},{m:5,n:4}],SmallBonus:{m:3,n:4},BigBonus:{m:3,n:0}},e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.showbgicon=Utils.createBitmapByName("gameproject_json.show"),this.showbgicon.anchorOffsetX=this.showbgicon.width/2,this.showbgicon.anchorOffsetY=this.showbgicon.height,this.showbgicon.x=Utils.stagewith/2+1,this.showbgicon.y=Utils.stageheight-70-2,this.addChild(this.showbgicon),this.caseSelect=Utils.createBitmapByName("gameproject_json.caseSelect"),this.caseSelect.anchorOffsetX=this.caseSelect.width/2,this.caseSelect.anchorOffsetY=this.caseSelect.height/2,this.caseSelect.x=this.checksWidth*(.5+this.m),this.caseSelect.y=Utils.stageheight-357+this.checksHeight*this.n,this.addChild(this.caseSelect),this.showShape=new egret.Shape,this.showShape.graphics.beginFill(255,1),this.showShape.graphics.drawRect(0,0,this.caseSelect.width,this.caseSelect.height),this.showShape.graphics.endFill(),this.addChild(this.showShape),this.showShape.anchorOffsetX=this.showShape.width/2,this.showShape.anchorOffsetY=this.showShape.height/2,this.showShape.x=this.caseSelect.x,this.showShape.y=this.caseSelect.y,this.showbgicon.mask=this.showShape},e.prototype.moveSelect=function(){if(this.i++,this.i>=this.speed){if(this.isAddandReduce)this.speed<=this.maxSpeed?this.speed=this.maxSpeed:this.speed-=this.addSpeedTime*this.i;else{var t=this.functonPosition({m:this.m,n:this.n}),e=this.positonResult-t;this.reduceFirstState?this.positonResult<12?-8==e&&(this.reduceFirstState=!1):12==e&&(this.reduceFirstState=!1):(this.positonResult<3?-17==e&&(this.speed=this.minSpeed):3==e&&(this.speed=this.minSpeed),this.speed>=this.minSpeed?this.speed=this.minSpeed:this.speed+=this.reduceSpeedTime*this.i)}this.i=0,0==this.n&&0<=this.m&&this.m<6?this.m++:6==this.m&&0<=this.n&&this.n<4?this.n++:4==this.n&&this.m<=6&&this.m>0?this.m--:0==this.m&&this.n<=4&&this.n>0&&this.n--,this.caseSelect.x=this.checksWidth*(.5+this.m),this.caseSelect.y=Utils.stageheight-357+this.checksHeight*this.n,this.showShape.x=this.checksWidth*(.5+this.m),this.showShape.y=Utils.stageheight-357+this.checksHeight*this.n,this.reduceFirstState||"undefined"==typeof this.resultmn||this.n!=this.resultmn.n||this.m!=this.resultmn.m||this.removeEventListener(egret.Event.ENTER_FRAME,this.moveSelect,this)}},e.prototype.shouhuxi=function(){egret.Tween.get(this.caseSelect,{loop:!0}).to({alpha:.3},500,egret.Ease.sineIn).to({alpha:1},500,egret.Ease.sineOut)},e.prototype.closehuxi=function(){egret.Tween.removeAllTweens()},e.prototype.setStartSelect=function(t){if("undefined"==typeof t.halfway){var e=parseInt(t.time),i=this.minSpeed-this.maxSpeed;this.addSpeedTime=i/e*2/30,this.addEventListener(egret.Event.ENTER_FRAME,this.moveSelect,this),this.isAddandReduce=!0,this.reduceFirstState=!0}},e.prototype.setEndSelect=function(t){if("undefined"==typeof t.halfway){var e=t.time,i=t.gameresult,s=this.minSpeed-this.maxSpeed;this.reduceSpeedTime=s/e/30,this.isAddandReduce=!1,this.resultmn=this.getResultmn(i),this.positonResult=this.functonPosition(this.resultmn)}},e.prototype.functonPosition=function(t){for(var e=0;e<this.showList.length;e++)if(t.m==this.showList[e].m&&t.n==this.showList[e].n)return e},e.prototype.getResultmn=function(t){if("SmallBonus"==t)return this.reusltlist[t];if("BigBonus"==t)return this.reusltlist[t];var e=Math.round(2*Math.random());return this.reusltlist[t][e]},e}(egret.DisplayObjectContainer);__reflect(GameSelect.prototype,"GameSelect");var GameSelectScore=function(t){function e(e,i){var s=t.call(this)||this;return s.btnNumber=4,s.btnlist=new Array,s.btnIdlist=["BetGold1","BetGold2","BetGold3","BetGold4"],s.showData=e,s.btndata=s.showData.betinfo,s.gameBtn=i,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.btnNumber;e++){var i=new GameSelectScoreBtn(this.btndata[this.btnIdlist[e]],this.btnIdlist[e]);i.x=Utils.stagewith-285+60*e,i.y=Utils.stageheight-35,this.addChild(i),0==e&&(i.setSelect(!0),this.gameBtn.setChip(i.x,i.y,i.score)),i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectScore,this),this.btnlist.push(i)}},e.prototype.selectScore=function(t){for(var e=0;e<this.btnlist.length;e++)this.btnlist[e].setSelect(!1);t.target.setSelect(!0),this.gameBtn.setChip(t.target.x,t.target.y,t.target.score)},e.prototype.setNewShowData=function(t){this.showData=t,this.btndata=this.showData.betinfo;for(var e=0;e<this.btnlist.length;e++)this.btnlist[e].setScore(this.btndata[this.btnlist[e].btnId])},e}(egret.DisplayObjectContainer);__reflect(GameSelectScore.prototype,"GameSelectScore");var GameSelectScoreBtn=function(t){function e(e,i){var s=t.call(this)||this;return s.score=e,s.btnId=i,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.btnBg=Utils.createBitmapByName("gameproject_json.select_off"),this.btnBg.anchorOffsetX=this.btnBg.width/2,this.btnBg.anchorOffsetY=this.btnBg.height/2,this.addChild(this.btnBg),this.selectBtn=Utils.createBitmapByName("gameproject_json.select_on"),this.selectBtn.anchorOffsetX=this.selectBtn.width/2,this.selectBtn.anchorOffsetY=this.selectBtn.height/2,this.addChild(this.selectBtn),this.selectBtn.$setVisible(!1),this.scoreText=new egret.TextField,this.scoreText.verticalAlign=egret.VerticalAlign.BOTTOM,this.scoreText.text=Utils.selectNumberToStringNumber(this.score,1),this.scoreText.fontFamily="SimHei",this.scoreText.size=25,this.scoreText.textColor=16777215,this.addChild(this.scoreText),this.scoreText.anchorOffsetY=this.scoreText.height/2,this.scoreText.anchorOffsetX=this.scoreText.width/2,this.scoreText.y=3},e.prototype.setSelect=function(t){this.selectBtn.$setVisible(t)},e.prototype.setScore=function(t){this.scoreText.text=Utils.selectNumberToStringNumber(t,1),this.scoreText.anchorOffsetY=this.scoreText.height/2,this.scoreText.anchorOffsetX=this.scoreText.width/2,this.scoreText.y=3},e}(egret.DisplayObjectContainer);__reflect(GameSelectScoreBtn.prototype,"GameSelectScoreBtn");var GameStakeMain=function(t){function e(e,i,s){var h=t.call(this)||this;return h.stakeBtn=[["Car1_A","Car2_A","Car3_A"],["Car1_B","Car2_B","Car3_B"]],h.stakeScoreList=new Array,h.twiceflag=!0,h.showData=e,h.gamebtn=i,h.gameScoketControl=s,h.stakeTimeSList=h.showData.multiplyinfo,h.addEventListener(egret.Event.ADDED_TO_STAGE,h.onAddToStage,h),h}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;2>e;e++)for(var i=0;3>i;i++){var s=new GameStakeScore(this.stakeBtn[e][i],this,this.gamebtn,this.gameScoketControl);s.showStakeTimes("x"+Utils.selectNumberToStringNumber(this.stakeTimeSList[s.stakeId],0)),this.addChild(s),s.x=172*i,s.y=95*e,this.stakeScoreList.push(s)}},e.prototype.refreshGameStakeMain=function(t){this.showData=t,this.stakeTimeSList=this.showData.multiplyinfo;for(var e=0;e<this.stakeScoreList.length;e++)this.stakeScoreList[e].showStakeTimes("x"+Utils.selectNumberToStringNumber(this.stakeTimeSList[this.stakeScoreList[e].stakeId],0))},e.prototype.resetGameStakeMain=function(){for(var t=0;t<this.stakeScoreList.length;t++)this.stakeScoreList[t].showStakeTimes(""),this.stakeScoreList[t].showAllStake(""),this.stakeScoreList[t].showPeopleStake("")},e.prototype.setChipXYScore=function(t,e,i){this.twiceflag&&(this.twiceflag=!1,this.btn=new GameSelectScoreBtn(t.chipScore,""),this.btn.x=t.chipX,this.btn.y=t.chipY,this.addChild(this.btn),egret.Tween.get(this.btn).to({x:e,y:i},200,egret.Ease.sineIn).wait(100).call(this.hitStake,this,[]))},e.prototype.hitStake=function(){this.twiceflag=!0,this.removeChild(this.btn)},e.prototype.stakeSuccesstwo=function(t){for(var e=0;e<this.stakeScoreList.length;e++)0!=t.info[this.stakeScoreList[e].stakeId]&&this.stakeScoreList[e].showPeopleStake(Utils.selectNumberToStringNumber(t.info[this.stakeScoreList[e].stakeId],0))},e.prototype.RefreshAllScore=function(t){for(var e=0;e<this.stakeScoreList.length;e++)0!=t.info[this.stakeScoreList[e].stakeId]&&this.stakeScoreList[e].showAllStake(Utils.selectNumberToStringNumber(t.info[this.stakeScoreList[e].stakeId],0))},e.prototype.RefreshPeopleScore=function(t){for(var e=0;e<this.stakeScoreList.length;e++)0!=t.info[this.stakeScoreList[e].stakeId]&&this.stakeScoreList[e].showPeopleStake(Utils.selectNumberToStringNumber(t.info[this.stakeScoreList[e].stakeId],0))},e}(egret.DisplayObjectContainer);__reflect(GameStakeMain.prototype,"GameStakeMain");var GameStakeScore=function(t){function e(e,i,s,h){var a=t.call(this)||this;return a.stakeId=e,a.gameStakeMain=i,a.gamebtn=s,a.gameScoketControl=h,a.addEventListener(egret.Event.ADDED_TO_STAGE,a.onAddToStage,a),a}return __extends(e,t),e.prototype.onAddToStage=function(t){},e.prototype.showStakeTimes=function(t){"undefined"!=typeof this.stakeTimesText&&this.contains(this.stakeTimesText)?this.stakeTimesText.text=t:(this.stakeTimesText=new egret.TextField,this.stakeTimesText.verticalAlign=egret.VerticalAlign.BOTTOM,this.stakeTimesText.text=t,this.stakeTimesText.fontFamily="SimHei",this.stakeTimesText.size=30,this.stakeTimesText.textColor=16777215,this.stakeTimesText.bold=!0,this.addChild(this.stakeTimesText)),this.stakeTimesText.alpha=1,this.stakeTimesText.anchorOffsetX=this.stakeTimesText.width/2,this.stakeTimesText.anchorOffsetY=this.stakeTimesText.height/2,this.stakeTimesText.x=Utils.stagewith-477-this.stakeTimesText.width/2,this.stakeTimesText.y=Utils.stageheight-262-this.stakeTimesText.height/2,this.hitShape=new egret.Shape,this.hitShape.graphics.beginFill(255,1),this.hitShape.graphics.drawRect(0,0,160,60),this.hitShape.graphics.endFill(),this.addChild(this.hitShape),this.hitShape.anchorOffsetX=this.hitShape.width/2,this.hitShape.anchorOffsetY=this.hitShape.height/2,this.hitShape.x=Utils.stagewith-477-68,this.hitShape.y=Utils.stageheight-262-15,this.hitShape.alpha=0,this.hitShape.pixelHitTest=!1,this.hitShape.touchEnabled=!0,this.hitShape.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hitStakeScoket,this)},e.prototype.showAllStake=function(t){this.stakeTimesText.alpha=.5,"undefined"!=typeof this.allStakeScoreText&&this.contains(this.allStakeScoreText)?this.allStakeScoreText.text=t:(this.allStakeScoreText=new egret.TextField,this.allStakeScoreText.verticalAlign=egret.VerticalAlign.BOTTOM,this.allStakeScoreText.text=t,this.allStakeScoreText.fontFamily="SimHei",this.allStakeScoreText.size=26,this.allStakeScoreText.textColor=16764687,this.allStakeScoreText.bold=!0,this.addChild(this.allStakeScoreText)),this.allStakeScoreText.anchorOffsetX=this.allStakeScoreText.width/2,this.allStakeScoreText.anchorOffsetY=this.allStakeScoreText.height/2,this.allStakeScoreText.y=Utils.stageheight-250-this.allStakeScoreText.height/2*3,this.allStakeScoreText.x=Utils.stagewith-477+6-this.allStakeScoreText.width/2},e.prototype.showPeopleStake=function(t){this.stakeTimesText.alpha=.5,"undefined"!=typeof this.peopleStakeScoreText&&this.contains(this.peopleStakeScoreText)?this.peopleStakeScoreText.text=t:(this.peopleStakeScoreText=new egret.TextField,this.peopleStakeScoreText.verticalAlign=egret.VerticalAlign.BOTTOM,this.peopleStakeScoreText.text=t,this.peopleStakeScoreText.fontFamily="SimHei",this.peopleStakeScoreText.size=26,this.peopleStakeScoreText.textColor=16711680,this.peopleStakeScoreText.bold=!0,this.addChild(this.peopleStakeScoreText)),this.peopleStakeScoreText.anchorOffsetX=this.peopleStakeScoreText.width/2,this.peopleStakeScoreText.anchorOffsetY=this.peopleStakeScoreText.height/2,this.peopleStakeScoreText.y=Utils.stageheight-250-this.peopleStakeScoreText.height/2,this.peopleStakeScoreText.x=Utils.stagewith-477+6-this.peopleStakeScoreText.width/2},e.prototype.hitStakeScoket=function(){this.chipData=this.gamebtn.getChip(),this.gameScoketControl.stakeScoke(this.stakeId,this.chipData.chipScore)},e.prototype.stakeScoket=function(){var t=this.hitShape.localToGlobal();this.gameStakeMain.setChipXYScore(this.chipData,t.x+this.hitShape.width/2,t.y+this.hitShape.height/2)},e}(egret.DisplayObjectContainer);__reflect(GameStakeScore.prototype,"GameStakeScore");