var __reflect=this&&this.__reflect||function(t,e,s){t.__class__=e,s?s.push(e):s=[e],t.__types__=t.__types__?s.concat(t.__types__):s},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),CarItme=function(t){function e(e){var s=t.call(this)||this;return s.resultitme=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.bg=Utils.createBitmapByName("gamebody_json.pkbg"),this.addChild(this.bg),this.bg.y=-this.bg.height,this.zm=Utils.createBitmapByName("gamebody_json.kpzm"),this.addChild(this.zm),this.zm.y=-this.zm.height,this.numbitmap=Utils.createBitmapByName("clubjson_json.poker_"+this.resultitme.number),this.addChild(this.numbitmap),this.numbitmap.y=-119,this.numbitmap.x=12,this.redcolorShape=Utils.createBitmapByName("red_png"),this.addChild(this.redcolorShape),this.redcolorShape.y=-128,this.blackShape=Utils.createBitmapByName("black_png"),this.addChild(this.blackShape),this.blackShape.y=-128,0==this.resultitme.flower||2==this.resultitme.flower?(this.blackShape.$setVisible(!1),this.redcolorShape.$setVisible(!0),this.redcolorShape.mask=this.numbitmap):(1==this.resultitme.flower||3==this.resultitme.flower)&&(this.blackShape.$setVisible(!0),this.redcolorShape.$setVisible(!1),this.blackShape.mask=this.numbitmap),this.clubbitmap=Utils.createBitmapByName("clubjson_json.poker_club_"+this.resultitme.flower),this.addChild(this.clubbitmap),this.clubbitmap.scaleX=.4,this.clubbitmap.scaleY=.4,this.clubbitmap.y=-92,this.clubbitmap.x=12,11==this.resultitme.number||12==this.resultitme.number||13==this.resultitme.number?this.bottomBitmap=Utils.createBitmapByName("clubjson_json.poker_"+this.resultitme.num+"_club_"+this.resultitme.flower):this.bottomBitmap=Utils.createBitmapByName("clubjson_json.poker_club_"+this.resultitme.flower),this.addChild(this.bottomBitmap),this.bottomBitmap.y=-76,this.bottomBitmap.x=37,this.bg.$setVisible(!0),this.blackShape.$setVisible(!1),this.redcolorShape.$setVisible(!1),this.blackShape.$setVisible(!1),this.redcolorShape.$setVisible(!1),this.numbitmap.$setVisible(!1),this.clubbitmap.$setVisible(!1),this.bottomBitmap.$setVisible(!1),this.zm.$setVisible(!1)},e.prototype.setChange=function(t){this.resultitme=t,this.numbitmap.texture=RES.getRes("clubjson_json.poker_"+this.resultitme.number),0==this.resultitme.flower||2==this.resultitme.flower?(this.blackShape.$setVisible(!1),this.redcolorShape.$setVisible(!0),this.redcolorShape.mask=this.numbitmap):(1==this.resultitme.flower||3==this.resultitme.flower)&&(this.blackShape.$setVisible(!0),this.redcolorShape.$setVisible(!1),this.blackShape.mask=this.numbitmap),this.clubbitmap.texture=RES.getRes("clubjson_json.poker_club_"+this.resultitme.flower),11==this.resultitme.number||12==this.resultitme.number||13==this.resultitme.number?this.bottomBitmap.texture=RES.getRes("clubjson_json.poker_"+this.resultitme.number+"_club_"+this.resultitme.flower):this.bottomBitmap.texture=RES.getRes("clubjson_json.poker_club_"+this.resultitme.flower)},e.prototype.setShowZMAndBM=function(t){this.bg.$setVisible(!t),this.blackShape.$setVisible(t),this.redcolorShape.$setVisible(t),this.blackShape.$setVisible(!1),this.redcolorShape.$setVisible(!1),this.numbitmap.$setVisible(t),this.clubbitmap.$setVisible(t),this.bottomBitmap.$setVisible(t),this.zm.$setVisible(t)},e}(egret.DisplayObjectContainer);__reflect(CarItme.prototype,"CarItme");var Ease=egret.Ease,Game=function(t){function e(){var e=t.call(this)||this;return e.isOnce=!0,e.isOnceRecharge=!0,e.isOnceShow=!0,e.flagGameShow=!0,e.updownflag=!0,window.platformInstance=e,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.gameScoketControl=new GameScoketControl(this)},e.prototype.startGame=function(t,e){this.result=t,0==e&&(this.removeChildren(),this.isOnce=!0),this.isOnce?(this.isOnceShow=!0,this.isOnce=!1,this.isOnceRecharge=!0,this.gamebg=new GameBg,this.addChild(this.gamebg),this.gameBtn=new GameBtn(this.result),this.addChild(this.gameBtn),this.gameEspecially=new GameEspecially(this),this.addChild(this.gameEspecially),this.gameStakeMain=new GameStakeMain(this.result,this.gameBtn,this.gameScoketControl,this.gameEspecially),this.addChild(this.gameStakeMain),this.$setVisible(!1),this.setChildIndex(this.gameBtn,999),this.setChildIndex(this.gameEspecially,1e4)):(this.gameBtn.refreshGameBtn(t),this.gameStakeMain.refreshGameStakeMain(t))},e.prototype.addGameRecharge=function(t){this.rechargeResult=t,this.isOnceRecharge?(this.isOnceRecharge=!1,this.gameRecharge=new GameRecharge(t),this.addChild(this.gameRecharge)):this.gameRecharge.refreshGameRecharge(t)},e.prototype.refreshGameScore=function(t){this.gameRecharge.refreshGameScorll(t.usergold)},e.prototype.setShowUI=function(t){this.requestResult=t,this.isOnceShow&&(this.isOnceShow=!1,this.updownflag||(this.gamebg.y=400,this.gameBtn.y=400,this.gameStakeMain.y=400,this.gameRecharge.y=400,this.gameEspecially.showEspeciallys(!1)),this.$setVisible(!0),this.flagGameShow&&(this.flagGameShow=!1,toCompleteGame()));var e=t.state;"Rest"==e?(this.gameStakeMain.resetGameStakeMain(t),this.gameEspecially.sethitEspecially()):"WaitBet"==e?this.gameStakeMain.resetGameWaitStake(t):"Result"==e&&this.gameStakeMain.resultGameStake(t)},e.prototype.onIconCompeletObjects=function(t){this.gameRecharge.refreshGameScorll(t.gold)},e.prototype.setHistory=function(t){"undefined"!=typeof this.gameBtn&&this.contains(this.gameBtn)&&this.gameBtn.refreshHistory(t.recordinfo)},e.prototype.stakeSuccess=function(t){1==t.result&&this.gameStakeMain.stakeSuccesstwo(t),"undefined"!=typeof t.gold&&this.gameRecharge.refreshGameScorll(t.gold)},e.prototype.stakeRefreshAllScore=function(t){this.gameStakeMain.RefreshAllScore(t)},e.prototype.stakeRefreshPeopleScore=function(t){this.gameStakeMain.RefreshPeopleScore(t)},e.prototype.refurbishScore=function(){if(this.contains(this.gameRecharge)){var t={packtype:"1007"},e=JSON.stringify(t);this.gameScoketControl.socket.writeUTF(e)}},e.prototype.refurshGame=function(){this.gameScoketControl.twoflag=!1,this.gameScoketControl.islogin=0,this.gameScoketControl.socket.close(),this.gameScoketControl.initWebSocket()},e.prototype.colseScoketGame=function(){this.gameScoketControl.twoflag=!1,this.gameScoketControl.islogin=0,this.gameScoketControl.socket.close()},e.prototype.updownglideGame=function(){this.updownflag?(this.updownflag=!1,this.hitdowngane()):(this.updownflag=!0,this.showdowngane())},e.prototype.hitdowngane=function(){egret.Tween.get(this.gamebg).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gameBtn).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gameStakeMain).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gameRecharge).to({y:400},300,Ease.quadInOut).call(this.hitdowncomplete,this,[]),this.gameEspecially.showEspeciallys(!1)},e.prototype.hitdowncomplete=function(){hitGameCompleteGame("1")},e.prototype.showdowngane=function(){this.gamebg.y=0,this.gameBtn.y=0,this.gameStakeMain.y=0,this.gameRecharge.y=0,this.gameEspecially.showEspeciallys(!0),this.showdowncomplete()},e.prototype.showdowncomplete=function(){showGameCompleteGame("1")},e.prototype.rightleftGame=function(){},e.prototype.setScreenSize=function(t,e){if(this.contains(this.gameRecharge)){var s=this.gameBtn.historyResultlist;this.removeChildren(),this.stage.setContentSize(this.stage.stageWidth,e/t*this.stage.stageWidth),Utils.stagewith=this.stage.stageWidth,Utils.stageheight=this.stage.stageHeight,this.gamebg=new GameBg,this.addChild(this.gamebg),this.gameBtn=new GameBtn(this.result),this.addChild(this.gameBtn),this.gameEspecially=new GameEspecially(this),this.addChild(this.gameEspecially),this.setChildIndex(this.gameBtn,999),this.setChildIndex(this.gameEspecially,1e4),this.gameStakeMain=new GameStakeMain(this.result,this.gameBtn,this.gameScoketControl,this.gameEspecially),this.addChild(this.gameStakeMain),this.gameRecharge=new GameRecharge(this.rechargeResult),this.addChild(this.gameRecharge),this.gameBtn.refreshHistory(s),this.updownflag||(this.gamebg.y=400,this.gameBtn.y=400,this.gameStakeMain.y=400,this.gameRecharge.y=400,this.gameEspecially.showEspeciallys(!1))}},e}(egret.DisplayObjectContainer);__reflect(Game.prototype,"Game");var Main=function(t){function e(){var e=t.call(this)||this;return window.platform=e,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/hdcz.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){getScreen(),this.game=new Game,this.addChild(this.game)},e.prototype.setScreenSize=function(t,e){this.stage.setContentSize(this.stage.stageWidth,e/t*this.stage.stageWidth),Utils.stagewith=this.stage.stageWidth,Utils.stageheight=this.stage.stageHeight},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var GameScoketControl=function(){function t(t){this._url=window.location.href,this.socketUrl="ws://app.gameserver.kkxiu.com:5153",this.twoflag=!0,this.game=t;var e=this.GetRequest();this.token=e.token,this._vuid=e.uid,this.deviceno=e.deviceno+"",this.isfit=e.isfit+"",this.roomid=e.roomid+"","undefined"!=typeof e.httphead&&e.httphead.length>0&&(this.socketUrl=e.httphead+""),this.reconnectionTime=new egret.Timer(4e3,0),this.reconnectionTime.addEventListener(egret.TimerEvent.TIMER,this.reconnectFuncs,this),this.initWebSocket()}return t.prototype.reconnectFuncs=function(){this.initWebSocket()},t.prototype.initWebSocket=function(){this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_STRING,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this),this.socket.connectByUrl(this.socketUrl)},t.prototype.GetRequest=function(){var t=this._url.indexOf("?"),e=this._url.substring(t),s=decodeURIComponent(e),i=new Object;if(-1!=s.indexOf("?"))for(var h=s.substr(1),a=h.split("&"),o=0;o<a.length;o++)i[a[o].split("=")[0]]=unescape(a[o].split("=")[1]);return i},t.prototype.onSocketOpen=function(){this.twoflag=!0,this.reconnectionTime.stop();var t={packtype:"1002"},e=JSON.stringify(t);this.socket.writeUTF(e)},t.prototype.onSocketClose=function(){this.twoflag&&(this.twoflag=!1,console.log("中断链接"),this.islogin=0,this.reconnectionTime.start())},t.prototype.onSocketError=function(t){this.twoflag&&(this.twoflag=!1,console.log("链接错误"),this.islogin=0,this.reconnectionTime.start())},t.prototype.onReceiveMessage=function(t){var e=this.socket.readUTF(),s=JSON.parse(e);if(console.log(s),10002==s.packtype){if(1==s.result&&(this.game.startGame(s,this.islogin),"undefined"==typeof this.islogin||0==this.islogin)){var i={packtype:"1003"},h=JSON.stringify(i);this.socket.writeUTF(h);var a={packtype:"1001",uid:this._vuid,token:this.token,roomid:this.roomid},o=JSON.stringify(a);this.socket.writeUTF(o);var r={packtype:"1005"},n=JSON.stringify(r);this.socket.writeUTF(n)}}else 10001==s.packtype?1==s.result&&(this.islogin=1):20001==s.packtype?this.game.addGameRecharge(s):20002==s.packtype?1==s.result&&this.game.setShowUI(s):10003==s.packtype?1==s.result&&this.game.setHistory(s):10004==s.packtype?1==s.result?this.game.stakeSuccess(s):this.game.stakeSuccess(s):10005==s.packtype?this.game.stakeRefreshAllScore(s):10006==s.packtype?this.game.stakeRefreshPeopleScore(s):20003==s.packtype?(this.game.refreshGameScore(s),torechargeScore("1")):20004==s.packtype?toprizeScore(JSON.stringify(s.awardmsg)):10007==s.packtype&&this.game.refreshGameScore(s)},t.prototype.stakeScoke=function(t,e){var s={packtype:"1004",betname:t,betgold:e},i=JSON.stringify(s);this.socket.writeUTF(i)},t}();__reflect(GameScoketControl.prototype,"GameScoketControl");var is=egret.is,GameEspecially=function(t){function e(e){var s=t.call(this)||this;return s.isShow=!0,s.game=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){},e.prototype.showEspeciallys=function(t){this.isShow=t,this.isShow||this.removeChildren()},e.prototype.showEspecially=function(t){this.requestResult=t,"undefined"!=typeof t.gameresult&&this.isShow&&""!=t.score&&this.ShowOrdinaryEspecially(t)},e.prototype.ShowOrdinaryEspecially=function(t){this.requestResult=t;var e=parseInt(t.score);e>=0&&(this.removeChildren(),this.samllPrize=Utils.createBitmapByName("gamebody_json.samllPrize"),this.addChild(this.samllPrize),this.samllPrize.anchorOffsetX=this.samllPrize.width/2,this.samllPrize.anchorOffsetY=this.samllPrize.height/2,this.samllPrize.y=Utils.stageheight-524,this.samllPrize.x=Utils.stagewith/2,this.samllPrize.scaleX=0,this.samllPrize.scaleY=0,this.gameSymbolNumber=new GameSymbolNumber(Math.abs(e),"numberjson_json.","add"),this.addChild(this.gameSymbolNumber),this.gameSymbolNumber.alpha=0,this.gameSymbolNumber.y=Utils.stageheight-524,egret.Tween.get(this.gameSymbolNumber).to({alpha:1},500,egret.Ease.backOut),egret.Tween.get(this.samllPrize).to({scaleX:1,scaleY:1},1e3,egret.Ease.backOut).wait(1e3).call(this.gun,this,[]))},e.prototype.gun=function(){this.scoreIconMove=new ScoreIconMove(this,Utils.stagewith/2,Utils.stageheight-514,this.game.gameRecharge.scoreIcon.x,this.game.gameRecharge.scoreIcon.y,1),this.addChild(this.scoreIconMove),this.setChildIndex(this.scoreIconMove,1e4)},e.prototype.sethitEspecially=function(){this.removeChildren()},e.prototype.onIconCompeletObject=function(){this.game.onIconCompeletObjects(this.requestResult)},e}(egret.DisplayObjectContainer);__reflect(GameEspecially.prototype,"GameEspecially");var GameEspeciallyMath=function(t){function e(e,s){var i=t.call(this)||this;return i.numbersString=e+"",i.numberbitmaphead=s,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.setnumber(this.numbersString)},e.prototype.setnumber=function(t){this.removeChildren(),this.numberbitMapList=new Array,this.numbersString=t+"",this.scoreNumberlist=this.numbersString.split("");for(var e=0;e<this.numbersString.length;e++){var s=Utils.createBitmapByName(this.numberbitmaphead+this.scoreNumberlist[e]);this.addChild(s),s.anchorOffsetY=s.height/2,s.anchorOffsetX=s.width/2,this.numberbitMapList.length<=0?s.x=e*s.width:s.x=this.numberbitMapList[e-1].x+this.numberbitMapList[e-1].width/2+s.width/2-8,this.numberbitMapList.push(s)}for(var i=0,h=0;h<this.numberbitMapList.length;h++)i+=this.numberbitMapList[h].width;for(var a=(Utils.stagewith-i)/2,o=0;o<this.numberbitMapList.length;o++)this.numberbitMapList[o].x=this.numberbitMapList[o].x+a+this.numberbitMapList[0].width/2},e}(egret.Sprite);__reflect(GameEspeciallyMath.prototype,"GameEspeciallyMath");var GameSymbolNumber=function(t){function e(e,s,i){var h=t.call(this)||this;return h.numbersString=e+"",h.numberbitmaphead=s,h.symbolres=i,h.addEventListener(egret.Event.ADDED_TO_STAGE,h.onAddToStage,h),h}return __extends(e,t),e.prototype.onAddToStage=function(t){this.gameEspeciallyMath=new GameEspeciallyMath(this.numbersString,this.numberbitmaphead),this.addChild(this.gameEspeciallyMath),this.symbol=Utils.createBitmapByName(this.numberbitmaphead+this.symbolres),this.addChild(this.symbol),this.symbol.anchorOffsetY=this.symbol.height/2,this.symbol.anchorOffsetX=this.symbol.width/2,this.symbol.x=this.gameEspeciallyMath.getChildAt(0).x-this.symbol.width/2,this.gameEspeciallyMath.x=this.symbol.width/2},e.prototype.setnumberSymbol=function(t){this.gameEspeciallyMath.setnumber(t),this.symbol.x=this.gameEspeciallyMath.getChildAt(0).x-this.symbol.width/2,this.gameEspeciallyMath.x=this.symbol.width/2},e}(egret.DisplayObjectContainer);__reflect(GameSymbolNumber.prototype,"GameSymbolNumber");var ScoreIconMove=function(t){function e(e,s,i,h,a,o){var r=t.call(this)||this;return r.targetObject=e,r.startX=s,r.startY=i,r.endX=h,r.endY=a,r.type=o,r.addEventListener(egret.Event.ADDED_TO_STAGE,r.onAddToStage,r),r}return __extends(e,t),e.prototype.onAddToStage=function(t){if(1==this.type){this.scoreIconlist=new Array;for(var e=0;15>e;e++){var s=Utils.createBitmapByName("gamebody_json.scoreIcon");this.addChild(s),s.anchorOffsetY=s.height/2,s.anchorOffsetX=s.width/2,s.scaleX=0,s.scaleY=0,s.x=this.startX,s.y=this.startY,this.scoreIconlist.push(s)}egret.Tween.get(this.scoreIconlist[0]).to({scaleX:1,scaleY:1},100,egret.Ease.quadInOut).call(this.createIcon,this,[1]).to({y:this.endY,x:this.endX},500,egret.Ease.quadInOut)}else if(2==this.type){var s=Utils.createBitmapByName("gamebody_json.scoreIcon");this.addChild(s),s.anchorOffsetY=s.height/2,s.anchorOffsetX=s.width/2,s.x=this.startX,s.y=this.startY,egret.Tween.get(s).to({y:this.endY,x:this.endX},300,egret.Ease.backOut).call(this.onIconCompelet,this,[])}},e.prototype.createIcon=function(t){t<this.scoreIconlist.length-1?egret.Tween.get(this.scoreIconlist[t]).to({scaleX:1,scaleY:1},100,egret.Ease.quadInOut).call(this.createIcon,this,[t+1]).to({y:this.endY,x:this.endX},500,egret.Ease.quadInOut):egret.Tween.get(this.scoreIconlist[t]).to({scaleX:1,scaleY:1},100,egret.Ease.quadInOut).to({y:this.endY,x:this.endX},500,egret.Ease.quadInOut).call(this.onIconCompelet,this,[])},e.prototype.onIconCompelet=function(){this.targetObject.onIconCompeletObject()},e}(egret.DisplayObjectContainer);__reflect(ScoreIconMove.prototype,"ScoreIconMove");var ChipData=function(){function t(t,e,s){this.chipX=t,this.chipY=e,this.chipScore=s}return t}();__reflect(ChipData.prototype,"ChipData");var People=function(){function t(t,e){this.peopleX=t,this.peopleY=e}return t}();__reflect(People.prototype,"People");var Utils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,s=RES.getRes(t);return e.texture=s,e},t.selectNumberToStringNumber=function(t,e){return 1==e?"10000"!=t?t+"":"1W":t+""},t.numberToStringNumber=function(t){if(9999>=t)return t;var e=t+"",s=e.substr(0,e.indexOf(".")+3);return s},t.stageheight=1334,t.stagewith=750,t}();__reflect(Utils.prototype,"Utils");var Cards=function(t){function e(e){var s=t.call(this)||this;return s.cartobjectlist=new Array,s.id=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;5>e;e++){var s=new CarItme({number:3,flower:3});this.addChild(s),s.x=46*e,this.cartobjectlist.push(s)}this.typebitmapbg=Utils.createBitmapByName("gamebody_json.textbg"),this.addChild(this.typebitmapbg),this.typebitmapbg.anchorOffsetX=this.typebitmapbg.width/2,this.typebitmapbg.anchorOffsetY=this.typebitmapbg.height/2,this.typebitmapbg.y=-this.typebitmapbg.height/2,this.typebitmapbg.x=this.typebitmapbg.width/2+40,this.typebitmapbg.$setVisible(!1),this.typebitmap=Utils.createBitmapByName("gamebody_json.text0"),this.addChild(this.typebitmap),this.typebitmap.anchorOffsetX=this.typebitmap.width/2,this.typebitmap.anchorOffsetY=this.typebitmap.height/2,this.typebitmap.x=this.typebitmapbg.x,this.typebitmap.y=this.typebitmapbg.y-3,this.typebitmap.$setVisible(!1)},e.prototype.showResult=function(t,e){if("undefined"!=typeof t)for(var s=0;s<t.length;s++)this.cartobjectlist[s].setShowZMAndBM(!0),this.cartobjectlist[s].setChange(t[s]);else for(var s=0;s<this.cartobjectlist.length;s++)this.cartobjectlist[s].setShowZMAndBM(!1);"undefined"!=typeof e?(this.typebitmapbg.$setVisible(!0),this.typebitmap.texture=RES.getRes("gamebody_json.text"+e[this.id]),this.typebitmap.$setVisible(!0)):(this.typebitmapbg.$setVisible(!1),this.typebitmap.$setVisible(!1))},e}(egret.DisplayObjectContainer);__reflect(Cards.prototype,"Cards");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var GameBg=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.rechargebottn=new egret.Shape,this.rechargebottn.graphics.beginFill(0,1),this.rechargebottn.graphics.drawRect(0,Utils.stageheight-59,300,50),this.rechargebottn.graphics.endFill(),this.addChild(this.rechargebottn),this.rechargebottn.alpha=1,this.rechargebottn.touchEnabled=!0,this.rechargebottn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeMeth,this),this.bg=Utils.createBitmapByName("gamebody_json.bg"),this.bg.anchorOffsetX=this.bg.width/2,this.bg.anchorOffsetY=this.bg.height/2,this.bg.x=Utils.stagewith/2,this.bg.y=Utils.stageheight-this.bg.height/2,this.addChild(this.bg)},e.prototype.rechargeMeth=function(){torechargeScore("0")},e}(egret.Sprite);__reflect(GameBg.prototype,"GameBg");var GameBtn=function(t){function e(e){var s=t.call(this)||this;return s.isShowHistory=!0,s.showData=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.gameSelectScore=new GameSelectScore(this.showData,this),this.addChild(this.gameSelectScore),this.gameSelectScore.$setVisible(!0),this.historyBtn=Utils.createBitmapByName("gamebody_json.history_off"),this.addChild(this.historyBtn),this.historyBtn.anchorOffsetX=this.historyBtn.width/2,this.historyBtn.anchorOffsetY=this.historyBtn.height/2,this.historyBtn.y=Utils.stageheight-35,this.historyBtn.x=Utils.stagewith-9-this.historyBtn.width/2,this.historyBtn.touchEnabled=!0,this.historyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showHistory,this)},e.prototype.showHistory=function(){this.isShowHistory?(this.isShowHistory=!1,this.historyBtn.texture=RES.getRes("gamebody_json.history_on"),this.historyResultlist.length>0&&(this.gameHistoryParent=new GameHistoryParent(this.historyResultlist),this.addChild(this.gameHistoryParent)),this.gameSelectScore.$setVisible(!1)):(this.isShowHistory=!0,this.historyBtn.texture=RES.getRes("gamebody_json.history_off"),"undefined"!=typeof this.gameHistoryParent&&this.contains(this.gameHistoryParent)&&this.removeChild(this.gameHistoryParent),this.gameSelectScore.$setVisible(!0))},e.prototype.refreshGameBtn=function(t){this.showData=t,this.gameSelectScore.setNewShowData(this.showData)},e.prototype.refreshHistory=function(t){this.historyResultlist=t},e.prototype.refreshHistorys=function(t){this.historyResultlist.unshift({record:t}),this.contains(this.gameHistoryParent)&&(this.removeChild(this.gameHistoryParent),this.gameHistoryParent=new GameHistoryParent(this.historyResultlist),this.addChild(this.gameHistoryParent))},e.prototype.setChip=function(t,e,s){this.chipData=new ChipData(t,e,s)},e.prototype.getChip=function(){return this.chipData},e}(egret.DisplayObjectContainer);__reflect(GameBtn.prototype,"GameBtn");var GameHistory=function(t){function e(e){var s=t.call(this)||this;return s.historyResultlist=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.historyResultlist.length;e++){var s=Utils.createBitmapByName("gamebody_json."+this.historyResultlist[e].record);this.addChild(s),s.anchorOffsetY=s.height/2,s.anchorOffsetX=s.width/2,s.x=Utils.stagewith-285+s.width*e,s.y=Utils.stageheight-35}this.newText=Utils.createBitmapByName("gamebody_json.new"),this.addChild(this.newText),this.newText.anchorOffsetY=this.newText.height/2,this.newText.anchorOffsetX=this.newText.width/2,this.newText.y=Utils.stageheight-20,this.newText.x=Utils.stagewith-270},e}(egret.DisplayObjectContainer);__reflect(GameHistory.prototype,"GameHistory");var GameHistoryParent=function(t){function e(e){var s=t.call(this)||this;return s._touchStatus=!1,s._distance=new egret.Point,s.historyResultlist=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.shadeShape=new egret.Shape,this.shadeShape.graphics.beginFill(0,1),this.shadeShape.graphics.drawRect(0,0,240,50),this.shadeShape.graphics.endFill(),this.addChild(this.shadeShape),this.shadeShape.anchorOffsetX=this.shadeShape.width/2,this.shadeShape.anchorOffsetY=this.shadeShape.height/2,this.shadeShape.x=Utils.stagewith-310+this.shadeShape.width/2,this.shadeShape.y=Utils.stageheight-35,this.gameHistory=new GameHistory(this.historyResultlist),this.addChild(this.gameHistory),this.gameHistory.mask=this.shadeShape,this.gameHistory.touchEnabled=!0,this.gameHistory.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.gameHistory.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this)},e.prototype.mouseDown=function(t){this._touchStatus=!0,this._distance.x=t.stageX-this.gameHistory.x,this.gameHistory.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e.prototype.mouseMove=function(t){this._touchStatus&&(this.gameHistory.x=t.stageX-this._distance.x,this.gameHistory.x>=0?this.gameHistory.x=0:this.gameHistory.x<-48*(this.historyResultlist.length-5)&&(this.gameHistory.x=-48*(this.historyResultlist.length-5)))},e.prototype.mouseUp=function(t){this._touchStatus=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e}(egret.DisplayObjectContainer);__reflect(GameHistoryParent.prototype,"GameHistoryParent");var GamePeople=function(t){function e(e,s){var i=t.call(this)||this;return i.resName=e,i.id=s,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(){this.people=Utils.createBitmapByName("gamebody_json."+this.resName),this.addChild(this.people),this.people.anchorOffsetX=this.people.width/2,this.people.anchorOffsetY=this.people.height,this.people.x=this.people.width/2,this.people.y=this.people.height,this.peopleType=Utils.createBitmapByName("gamebody_json."+this.resName+"t"),this.addChild(this.peopleType),this.peopleType.anchorOffsetY=this.peopleType.height,"jk"==this.resName?(this.peopleType.x=212-this.peopleType.width/2,this.peopleType.y=129):"as"==this.resName&&(this.peopleType.x=-18,this.peopleType.y=this.people.height-30),this.peopleType.$setVisible(!1),this.setPeopleAnlmore()},e.prototype.setPeopleAnlmore=function(){egret.Tween.get(this.people,{loop:!0}).to({scaleY:.98},1e3,egret.Ease.quadInOut).to({scaleY:1},1e3,egret.Ease.quadInOut)},e.prototype.getPeopleXY=function(){var t=this.people.localToGlobal(),e=new People(t.x,t.y);return e},e.prototype.setShowText=function(t){this.peopleType.$setVisible(t)},e}(egret.DisplayObjectContainer);__reflect(GamePeople.prototype,"GamePeople");var GameRecharge=function(t){function e(e){var s=t.call(this)||this;return s.showData=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(){toOnChangeScore(this.showData.gold),this.recharge=new egret.TextField,this.recharge.verticalAlign=egret.VerticalAlign.TOP,this.recharge.size=27,this.recharge.fontFamily="SimHei",this.recharge.textColor=16777215,this.recharge.text="充值 > ",this.recharge.anchorOffsetX=this.recharge.width/2,this.recharge.anchorOffsetY=this.recharge.height/2,this.recharge.x=this.recharge.width/2+20,this.recharge.y=Utils.stageheight-35,this.addChild(this.recharge),this.scoreAll=new egret.TextField,this.scoreAll.verticalAlign=egret.VerticalAlign.TOP,this.scoreAll.size=30,this.scoreAll.fontFamily="SimHei",this.scoreAll.textColor=16777215,this.scoreAll.text=this.showData.gold,this.scoreAll.anchorOffsetX=this.scoreAll.width/2,this.scoreAll.anchorOffsetY=this.scoreAll.height/2,this.scoreAll.x=this.recharge.width+this.scoreAll.width/2+10,this.scoreAll.y=this.recharge.y,this.addChild(this.scoreAll),this.scoreIcon=Utils.createBitmapByName("gamebody_json.scoreIcon"),this.addChild(this.scoreIcon),this.scoreIcon.anchorOffsetX=this.scoreIcon.width/2,this.scoreIcon.anchorOffsetY=this.scoreIcon.height/2,this.scoreIcon.x=this.recharge.width+this.scoreAll.width+this.scoreIcon.width-5,this.scoreIcon.y=this.recharge.y},e.prototype.refreshGameRecharge=function(t){this.showData=t,this.refreshGameScorll(this.showData.gold),toOnChangeScore(this.showData.gold)},e.prototype.refreshGameScorll=function(t){toOnChangeScore(t),this.scoreAll.text=t,this.scoreAll.anchorOffsetX=this.scoreAll.width/2,this.scoreAll.anchorOffsetY=this.scoreAll.height/2,this.scoreAll.x=this.recharge.width+this.scoreAll.width/2+10,this.scoreAll.y=this.recharge.y,this.scoreIcon.x=this.recharge.width+this.scoreAll.width+this.scoreIcon.width-5,this.scoreIcon.y=this.recharge.y},e}(egret.DisplayObjectContainer);__reflect(GameRecharge.prototype,"GameRecharge");var GameSelectScore=function(t){function e(e,s){var i=t.call(this)||this;return i.btnNumber=4,i.btnlist=new Array,i.btnIdlist=["BetGold1","BetGold2","BetGold3","BetGold4"],i.showData=e,i.btndata=i.showData.betinfo,i.gameBtn=s,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.btnNumber;e++){var s=new GameSelectScoreBtn(this.btndata[this.btnIdlist[e]],this.btnIdlist[e]);s.x=Utils.stagewith-336+76*e,s.y=Utils.stageheight-35,this.addChild(s),0==e&&(s.setSelect(!0),this.gameBtn.setChip(s.x,s.y,s.score)),s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectScore,this),this.btnlist.push(s)}},e.prototype.selectScore=function(t){for(var e=0;e<this.btnlist.length;e++)this.btnlist[e].setSelect(!1);t.target.setSelect(!0),this.gameBtn.setChip(t.target.x,t.target.y,t.target.score)},e.prototype.setNewShowData=function(t){this.showData=t,this.btndata=this.showData.betinfo;for(var e=0;e<this.btnlist.length;e++)this.btnlist[e].setScore(this.btndata[this.btnlist[e].btnId])},e}(egret.DisplayObjectContainer);__reflect(GameSelectScore.prototype,"GameSelectScore");var GameSelectScoreBtn=function(t){function e(e,s){var i=t.call(this)||this;return i.score=e,i.btnId=s,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.btnBg=Utils.createBitmapByName("gamebody_json.selectoff"),this.btnBg.anchorOffsetX=this.btnBg.width/2,this.btnBg.anchorOffsetY=this.btnBg.height/2,this.addChild(this.btnBg),this.selectBtn=Utils.createBitmapByName("gamebody_json.selecton"),this.selectBtn.anchorOffsetX=this.selectBtn.width/2,this.selectBtn.anchorOffsetY=this.selectBtn.height/2,this.addChild(this.selectBtn),this.selectBtn.$setVisible(!1),this.scoreText=new egret.TextField,this.scoreText.verticalAlign=egret.VerticalAlign.BOTTOM,this.scoreText.text=Utils.selectNumberToStringNumber(this.score,1),this.scoreText.fontFamily="SimHei",this.scoreText.size=22,this.scoreText.textColor=16777215,this.addChild(this.scoreText),this.scoreText.anchorOffsetY=this.scoreText.height/2,this.scoreText.anchorOffsetX=this.scoreText.width/2,this.scoreText.y=15,this.scoreIconSamill=Utils.createBitmapByName("gamebody_json.scoreIcon"),this.addChild(this.scoreIconSamill),this.scoreIconSamill.anchorOffsetX=this.scoreIconSamill.width/2,this.scoreIconSamill.anchorOffsetY=this.scoreIconSamill.height/2,this.scoreIconSamill.scaleY=.5,this.scoreIconSamill.scaleX=.5,this.scoreIconSamill.x=this.btnBg.x,this.scoreIconSamill.y=-13
},e.prototype.setSelect=function(t){this.selectBtn.$setVisible(t)},e.prototype.setScore=function(t){this.scoreText.text=Utils.selectNumberToStringNumber(t,1),this.scoreText.anchorOffsetY=this.scoreText.height/2,this.scoreText.anchorOffsetX=this.scoreText.width/2,this.scoreText.y=15},e}(egret.DisplayObjectContainer);__reflect(GameSelectScoreBtn.prototype,"GameSelectScoreBtn");var GameStakeMain=function(t){function e(e,s,i,h){var a=t.call(this)||this;return a.peopleres=["jk","as"],a.stakeBtn=["Item_A","Item_C","Item_B"],a.stakeScoreList=new Array,a.peoplelist=new Array,a.peopleXYlist=new Array,a.cartsLis=new Array,a.i=0,a.twiceflag=!0,a.showData=e,a.gamebtn=s,a.gameScoketControl=i,a.stakeTimeSList=a.showData.multiplyinfo,a.gameEspecially=h,a.addEventListener(egret.Event.ADDED_TO_STAGE,a.onAddToStage,a),a}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;2>e;e++){var s;s=new Cards(0==e?this.stakeBtn[0]:this.stakeBtn[2]),this.addChild(s),s.scaleX=0,s.x=10+449*e,s.y=Utils.stageheight-250,this.cartsLis.push(s)}this.jk=new GamePeople(this.peopleres[0],"Item_A"),this.addChild(this.jk),this.jk.anchorOffsetY=this.jk.people.height/2,this.jk.anchorOffsetX=this.jk.people.width/2,this.jk.x=21+this.jk.people.width/2,this.jk.y=Utils.stageheight-51-322+this.jk.people.height/2,this.peoplelist.push(this.jk),this.peopleXYlist.push(new People(this.jk.getPeopleXY().peopleX,this.jk.getPeopleXY().peopleY)),this.vs=Utils.createBitmapByName("gamebody_json.vs"),this.addChild(this.vs),this.vs.anchorOffsetX=this.vs.width/2,this.vs.anchorOffsetY=this.vs.height,this.vs.x=267+this.vs.width/2,this.vs.y=Utils.stageheight-119,this.as=new GamePeople(this.peopleres[1],"Item_B"),this.addChild(this.as),this.as.anchorOffsetY=this.as.people.height/2,this.as.anchorOffsetX=this.as.people.width/2,this.as.x=Utils.stagewith-230-2+this.as.people.width/2,this.as.y=Utils.stageheight-51-322+this.as.people.height/2,this.peoplelist.push(this.as),this.peopleXYlist.push(new People(this.as.getPeopleXY().peopleX,this.as.getPeopleXY().peopleY));for(var i=0;3>i;i++){var h=new GameStakeScore(this.stakeBtn[i],this,this.gamebtn,this.gameScoketControl);this.addChild(h),h.x=118+h.stakebg.width/2+182*i,h.y=Utils.stageheight-78-h.stakebg.height/2,h.$setVisible(!1),this.stakeScoreList.push(h)}this.gameTimesMsg=new GameTimesMsg(this),this.addChild(this.gameTimesMsg),this.gameTimesMsg.x=Utils.stagewith/2,this.gameTimesMsg.y=Utils.stageheight-300,this.gayShape=new egret.Shape,this.gayShape.graphics.beginFill(0,1),this.gayShape.graphics.drawRect(0,0,Utils.stagewith,391),this.gayShape.graphics.endFill(),this.addChild(this.gayShape),this.gayShape.alpha=.5,this.gayShape.x=0,this.gayShape.y=Utils.stageheight-391,this.gayShape.$setVisible(!1)},e.prototype.refreshGameStakeMain=function(t){this.showData=t;for(var e=0;e<this.stakeScoreList.length;e++)this.stakeScoreList[e].showStakeTimes(""),this.stakeScoreList[e].showAllStake(""),this.stakeScoreList[e].showPeopleStake("")},e.prototype.resetGameStakeMain=function(t){this.setChildIndex(this.gameTimesMsg,1e3),this.gayShape.$setVisible(!1),this.gameTimesMsg.setTimes(0,!1),this.gameTimesMsg.setTimeMsg("即将开始，请稍后",!0,!1,t),this.vs.$setVisible(!0),this.jk.setShowText(!0),this.as.setShowText(!0),this.jk.scaleY=1,this.jk.scaleX=1,this.jk.x=21+this.jk.people.width/2,this.jk.y=Utils.stageheight-51-322+this.jk.people.height/2,this.as.scaleY=1,this.as.scaleX=1,this.as.x=Utils.stagewith-230-2+this.as.people.width/2,this.as.y=Utils.stageheight-51-322+this.as.people.height/2;for(var e=0;e<this.cartsLis.length;e++)this.cartsLis[e].showResult(t[this.cartsLis[e].id],t.cardtypeinfo);for(var s=0;s<this.cartsLis.length;s++)this.cartsLis[s].scaleX=0;for(var e=0;e<this.stakeScoreList.length;e++)this.stakeScoreList[e].$setVisible(!1)},e.prototype.resetGameWaitStake=function(t){this.vs.$setVisible(!1),this.jk.setShowText(!1),this.as.setShowText(!1),this.gayShape.$setVisible(!1),this.setChildIndex(this.gameTimesMsg,1e3),"undefined"==typeof t.halfway?(this.jk.setShowText(!1),this.as.setShowText(!1),egret.Tween.get(this.jk).to({x:-9+this.jk.people.width/2*.6,y:Utils.stageheight-51-193.2+this.jk.people.height/2*.6,scaleX:.75,scaleY:.75},500,egret.Ease.quadInOut).to({scaleX:.6,scaleY:.6},300,egret.Ease.quadInOut),egret.Tween.get(this.as).to({x:Utils.stagewith-125+this.as.people.width/2*.6,y:Utils.stageheight-51-193.2+this.as.people.height/2*.6,scaleX:.75,scaleY:.75},500,egret.Ease.quadInOut).to({scaleX:.6,scaleY:.6},300,egret.Ease.quadInOut).call(this.setShowStakeMain,this,[t])):(this.jk.scaleX=.6,this.jk.scaleY=.6,this.jk.x=-9+this.jk.people.width/2*.6,this.jk.y=Utils.stageheight-51-193.2+this.jk.people.height/2*.6,this.as.scaleX=.6,this.as.scaleY=.6,this.as.x=Utils.stagewith-125+this.as.people.width/2*.6,this.as.y=Utils.stageheight-51-193.2+this.as.people.height/2*.6,this.setShowStakeMain(t))},e.prototype.setShowStakeMain=function(t){this.setChildIndex(this.gameTimesMsg,1e3),this.gameTimesMsg.setTimeMsg("开始支持",!0,!1,t),this.gameTimesMsg.setTimes(t.time,!0);for(var e=t.cardinfo,s=0;s<this.cartsLis.length;s++)this.cartsLis[s].showResult(e[this.cartsLis[s].id],t.cardtypeinfo);for(var i=0;i<this.cartsLis.length;i++)egret.Tween.get(this.cartsLis[i]).wait(100*i).to({scaleX:1},200,egret.Ease.sineIn);for(var s=0;s<this.stakeScoreList.length;s++)this.stakeScoreList[s].$setVisible(!0);this.stakeTimeSList=this.showData.multiplyinfo;for(var h=0;h<this.stakeScoreList.length;h++)this.stakeScoreList[h].showStakeTimes("x"+Utils.selectNumberToStringNumber(this.stakeTimeSList[this.stakeScoreList[h].stakeId],0))},e.prototype.setWiatTimeEnd=function(t){this.gameTimesMsg.setTimeMsg("揭晓结果",!0,!1,t),this.gameTimesMsg.setTimes(0,!1)},e.prototype.resultGameStake=function(t){if("undefined"==typeof t.halfway){this.setChildIndex(this.gameTimesMsg,1e3),this.gayShape.$setVisible(!1);for(var e=0;e<this.cartsLis.length;e++)egret.Tween.get(this.cartsLis[e]).wait(1e3+1e3*e).call(this.showfuntion,this,[this.cartsLis[e],t])}else this.jk.setShowText(!0),this.as.setShowText(!0)},e.prototype.onTextShowComplete=function(t){},e.prototype.showfuntion=function(t,e){var s=e.cardinfo;t.showResult(s[t.id],e.cardtypeinfo),this.setChildIndex(this.gayShape,999),this.i++,this.i>=2&&(this.i=0,egret.Tween.get(this.gayShape).wait(2e3).call(this.timerFuncs,this,[e]))},e.prototype.timerFuncs=function(t){for(var e=0;e<this.peoplelist.length;e++)this.peoplelist[e].id==t.gameresult&&this.setChildIndex(this.peoplelist[e],999);for(var s=0;s<this.cartsLis.length;s++)this.cartsLis[s].id==t.gameresult&&this.setChildIndex(this.cartsLis[s],999);for(var i=0;i<this.stakeScoreList.length;i++)this.stakeScoreList[i].stakeId==t.gameresult&&this.setChildIndex(this.stakeScoreList[i],999);this.gayShape.$setVisible(!0),this.gamebtn.refreshHistorys(t.gameresult),egret.Tween.get(this.gayShape).wait(1e3).call(this.resultgame,this,[t])},e.prototype.resultgame=function(t){""!=t.score&&(this.setChildIndex(this.gameTimesMsg,1e3),t.score>0?this.gameEspecially.showEspecially(t):this.gameTimesMsg.setTimeMsg("竞猜失败，下一局加油哦！",!0,!1,t))},e.prototype.setChipXYScore=function(t,e,s){this.twiceflag&&(this.twiceflag=!1,this.scoreIconMove=new ScoreIconMove(this,t.chipX,t.chipY,e,s,2),this.addChild(this.scoreIconMove))},e.prototype.onIconCompeletObject=function(){this.twiceflag=!0,this.removeChild(this.scoreIconMove)},e.prototype.stakeSuccesstwo=function(t){for(var e=0;e<this.stakeScoreList.length;e++)this.stakeScoreList[e].stakeId==t.betname&&this.stakeScoreList[e].stakeScoket(),0!=t.info[this.stakeScoreList[e].stakeId]&&this.stakeScoreList[e].showPeopleStake(Utils.selectNumberToStringNumber(t.info[this.stakeScoreList[e].stakeId],0))},e.prototype.RefreshAllScore=function(t){for(var e=0;e<this.stakeScoreList.length;e++)0!=t.info[this.stakeScoreList[e].stakeId]&&this.stakeScoreList[e].showAllStake(Utils.selectNumberToStringNumber(t.info[this.stakeScoreList[e].stakeId],0))},e.prototype.RefreshPeopleScore=function(t){for(var e=0;e<this.stakeScoreList.length;e++)0!=t.info[this.stakeScoreList[e].stakeId]&&this.stakeScoreList[e].showPeopleStake(Utils.selectNumberToStringNumber(t.info[this.stakeScoreList[e].stakeId],0))},e}(egret.DisplayObjectContainer);__reflect(GameStakeMain.prototype,"GameStakeMain");var GameStakeScore=function(t){function e(e,s,i,h){var a=t.call(this)||this;return a.stakeId=e,a.gameStakeMain=s,a.gamebtn=i,a.gameScoketControl=h,a.addEventListener(egret.Event.ADDED_TO_STAGE,a.onAddToStage,a),a}return __extends(e,t),e.prototype.onAddToStage=function(t){this.stakebg=Utils.createBitmapByName("gamebody_json.stakebg"),this.addChild(this.stakebg),this.stakebg.anchorOffsetX=this.stakebg.width/2,this.stakebg.anchorOffsetY=this.stakebg.height/2},e.prototype.showStakeTimes=function(t){"undefined"!=typeof this.stakeTimesText&&this.contains(this.stakeTimesText)?"Item_A"==this.stakeId?this.stakeTimesText.text="杰克"+t:"Item_B"==this.stakeId?this.stakeTimesText.text="艾莎"+t:"Item_C"==this.stakeId&&(this.stakeTimesText.text="平局"+t):(this.stakeTimesText=new egret.TextField,this.stakeTimesText.verticalAlign=egret.VerticalAlign.BOTTOM,"Item_A"==this.stakeId?this.stakeTimesText.text="杰克"+t:"Item_B"==this.stakeId?this.stakeTimesText.text="艾莎"+t:"Item_C"==this.stakeId&&(this.stakeTimesText.text="平局"+t),this.stakeTimesText.fontFamily="SimHei",this.stakeTimesText.size=25,this.stakeTimesText.textColor=3409923,this.stakeTimesText.bold=!0,this.addChild(this.stakeTimesText)),this.stakeTimesText.alpha=1,this.stakeTimesText.anchorOffsetX=this.stakeTimesText.width/2,this.stakeTimesText.anchorOffsetY=this.stakeTimesText.height/2,this.stakeTimesText.x=this.stakebg.x,this.stakeTimesText.y=this.stakebg.y-40,this.hitShape=new egret.Shape,this.hitShape.graphics.beginFill(255,1),this.hitShape.graphics.drawRect(0,0,140,165),this.hitShape.graphics.endFill(),this.addChild(this.hitShape),this.hitShape.anchorOffsetX=this.hitShape.width/2,this.hitShape.anchorOffsetY=this.hitShape.height/2,this.hitShape.x=this.stakebg.x,this.hitShape.y=this.stakebg.y,this.hitShape.alpha=0,this.hitShape.pixelHitTest=!1,this.hitShape.touchEnabled=!0,this.hitShape.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hitStakeScoket,this)},e.prototype.showAllStake=function(t){"undefined"!=typeof this.allStakeScoreText&&this.contains(this.allStakeScoreText)?this.allStakeScoreText.text=t:(this.allStakeScoreText=new egret.TextField,this.allStakeScoreText.verticalAlign=egret.VerticalAlign.BOTTOM,this.allStakeScoreText.text=t,this.allStakeScoreText.fontFamily="SimHei",this.allStakeScoreText.size=30,this.allStakeScoreText.textColor=2779805,this.allStakeScoreText.bold=!0,this.addChild(this.allStakeScoreText)),this.allStakeScoreText.anchorOffsetX=this.allStakeScoreText.width/2,this.allStakeScoreText.anchorOffsetY=this.allStakeScoreText.height/2,this.allStakeScoreText.y=this.stakebg.y-10,this.allStakeScoreText.x=this.stakebg.x,this.allStakeScoreText.strokeColor=16777215,this.allStakeScoreText.stroke=2},e.prototype.showPeopleStake=function(t){"undefined"!=typeof this.peopleStakeScoreText&&this.contains(this.peopleStakeScoreText)?this.peopleStakeScoreText.text=t:(this.peopleStakeScoreText=new egret.TextField,this.peopleStakeScoreText.verticalAlign=egret.VerticalAlign.BOTTOM,this.peopleStakeScoreText.text=t,this.peopleStakeScoreText.fontFamily="SimHei",this.peopleStakeScoreText.size=25,this.peopleStakeScoreText.textColor=3409923,this.peopleStakeScoreText.bold=!0,this.addChild(this.peopleStakeScoreText)),this.peopleStakeScoreText.anchorOffsetX=this.peopleStakeScoreText.width/2,this.peopleStakeScoreText.anchorOffsetY=this.peopleStakeScoreText.height/2,this.peopleStakeScoreText.y=this.stakebg.y+55-15,this.peopleStakeScoreText.x=this.stakebg.x},e.prototype.hitStakeScoket=function(){this.chipData=this.gamebtn.getChip(),this.gameScoketControl.stakeScoke(this.stakeId,this.chipData.chipScore)},e.prototype.stakeScoket=function(){var t=this.hitShape.localToGlobal();this.gameStakeMain.setChipXYScore(this.chipData,t.x+this.hitShape.width/2,t.y+this.hitShape.height/2)},e}(egret.DisplayObjectContainer);__reflect(GameStakeScore.prototype,"GameStakeScore");var GameTimesMsg=function(t){function e(e){var s=t.call(this)||this;return s.times=0,s.type=!1,s.gameStakeMain=e,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.timesbg=Utils.createBitmapByName("gamebody_json.times"),this.addChild(this.timesbg),this.timesbg.anchorOffsetY=this.timesbg.height/2,this.timesbg.anchorOffsetX=this.timesbg.width/2,this.timeText=new egret.TextField,this.timeText.verticalAlign=egret.VerticalAlign.BOTTOM,this.timeText.size=40,this.timeText.fontFamily="SimHei",this.timeText.textColor=0,this.timeText.text=this.times,this.timeText.anchorOffsetX=this.timeText.width/2,this.timeText.anchorOffsetY=this.timeText.height/2,this.timeText.x=this.timesbg.x,this.timeText.y=this.timesbg.y,this.addChild(this.timeText),this.timesbg.$setVisible(!1),this.timeText.$setVisible(!1),this.showMsgTime=new egret.Timer(2e3,1),this.showMsgTime.addEventListener(egret.TimerEvent.TIMER,this.timerFuncs,this),this.showMsgTime.stop()},e.prototype.setTimeMsg=function(t,e,s,i){this.type=s,this.requestResult=i,"undefined"!=typeof this.timeMsgText?(this.timeMsgText.text=t,this.timeMsgText.anchorOffsetY=this.timeMsgText.height/2,this.timeMsgText.anchorOffsetX=this.timeMsgText.width/2,this.timeMsgText.x=this.timeMsgBg.x,this.timeMsgText.y=this.timeMsgBg.y):(this.timeMsgBg=Utils.createBitmapByName("gamebody_json.msgbg"),this.addChild(this.timeMsgBg),this.timeMsgBg.anchorOffsetY=this.timeMsgBg.height/2,this.timeMsgBg.anchorOffsetX=this.timeMsgBg.width/2,this.timeMsgBg.x=0,this.timeMsgBg.y=140,this.timeMsgText=new egret.TextField,this.timeMsgText.verticalAlign=egret.VerticalAlign.BOTTOM,this.timeMsgText.fontFamily="SimHei",this.timeMsgText.size=22,this.timeMsgText.textColor=16764491,this.timeMsgText.bold=!0,this.addChild(this.timeMsgText),this.timeMsgText.text=t,this.timeMsgText.anchorOffsetY=this.timeMsgText.height/2,this.timeMsgText.anchorOffsetX=this.timeMsgText.width/2,this.timeMsgText.x=this.timeMsgBg.x,this.timeMsgText.y=this.timeMsgBg.y),this.timeMsgText.$setVisible(e),this.timeMsgBg.$setVisible(e),this.showMsgTime.start()},e.prototype.timerFuncs=function(){this.timeMsgText.$setVisible(!1),this.timeMsgBg.$setVisible(!1),this.onTextCompelet()},e.prototype.onTextCompelet=function(){this.type&&this.gameStakeMain.onTextShowComplete(this.requestResult)},e.prototype.setTimes=function(t,e){this.sec=parseInt(t),"undefined"!=typeof this.timers&&null!=this.timers&&(this.timers.stop(),this.timers.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timers=null),this.timeText.scaleX=1,this.timeText.scaleY=1,this.timeText.textColor=0,this.timeText.text=this.sec,this.timeText.anchorOffsetX=this.timeText.width/2,this.timeText.anchorOffsetY=this.timeText.height/2,this.sec>0&&(this.timers=new egret.Timer(1e3,this.sec),this.timers.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timers.start()),this.timesbg.$setVisible(e),this.timeText.$setVisible(e)},e.prototype.timerFunc=function(){this.sec--,this.sec<=3?(this.timeText.textColor=16711680,this.sec>=1&&(this.timeText.scaleX=1,this.timeText.scaleY=1,egret.Tween.get(this.timeText).to({scaleX:1.5,scaleY:1.5},500,egret.Ease.backOut))):(this.timeText.scaleX=1,this.timeText.scaleY=1,this.timeText.textColor=0),this.sec>=1?(this.timeText.text=this.sec,this.timeText.anchorOffsetX=this.timeText.width/2,this.timeText.anchorOffsetY=this.timeText.height/2):this.gameStakeMain.setWiatTimeEnd(this.requestResult)},e}(egret.Sprite);__reflect(GameTimesMsg.prototype,"GameTimesMsg");