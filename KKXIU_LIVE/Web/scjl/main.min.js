var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),GameButton=function(t){function e(e){var i=t.call(this)||this;return i.bisectorNumber=3,i.bisectorSpace=21,i.scoreText=10,i.bisectorList=new Array,i.startflag=0,i.isStartBottonEndState=0,i.timesflag=0,i.autoflag=0,i.addReduceState=3,i.freeTime=0,i.notwice=!0,i.gamecontrol=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.bisectorNumber;e++){var i=Utils.createBitmapByName("gamebody_json.18");this.addChild(i),i.anchorOffsetY=i.height,i.x=62+this.bisectorSpace*e+i.width*e,i.y=Utils.stageheight-259,this.bisectorList.push(i)}this.startBtn=Utils.createBitmapByName("gamebody_json.8"),this.addChild(this.startBtn),this.startBtn.anchorOffsetX=this.startBtn.width/2,this.startBtn.anchorOffsetY=this.startBtn.height/2,this.startBtn.y=Utils.stageheight-7-this.startBtn.height/2,this.startBtn.x=Utils.stageWith-32-this.startBtn.width/2,this.startBtn.touchEnabled=!0,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.starGame,this),this.addBtn=Utils.createBitmapByName("gamebody_json.13"),this.addChild(this.addBtn),this.addBtn.anchorOffsetX=this.addBtn.width/2,this.addBtn.anchorOffsetY=this.addBtn.height/2,this.addBtn.x=216+this.addBtn.width/2,this.addBtn.y=Utils.stageheight-98-this.addBtn.height/2,this.addBtn.touchEnabled=!0,this.addBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.addScore,this),this.reduceBtn=Utils.createBitmapByName("gamebody_json.14"),this.addChild(this.reduceBtn),this.reduceBtn.anchorOffsetX=this.reduceBtn.width/2,this.reduceBtn.anchorOffsetY=this.reduceBtn.height/2,this.reduceBtn.x=Utils.stageWith-(216+this.reduceBtn.width/2),this.reduceBtn.y=Utils.stageheight-98-this.reduceBtn.height/2,this.reduceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reduceScore,this),this.autoBtn=Utils.createBitmapByName("gamebody_json.10"),this.addChild(this.autoBtn),this.autoBtn.anchorOffsetX=this.autoBtn.width/2,this.autoBtn.anchorOffsetY=this.autoBtn.height/2,this.autoBtn.y=Utils.stageheight-7-this.autoBtn.height/2,this.autoBtn.x=Utils.stageWith-32-this.startBtn.width-7-this.autoBtn.width/2,this.autoBtn.touchEnabled=!0,this.autoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.autoGame,this),this.listBtn=new GameAutoBtnList(this),this.addChild(this.listBtn),this.listBtn.anchorOffsetX=this.listBtn.width/2,this.listBtn.anchorOffsetY=this.listBtn.height,this.listBtn.x=this.autoBtn.x+this.autoBtn.width/2,this.listBtn.y=this.autoBtn.y,this.listBtn.scaleY=0,this.swapChildren(this.listBtn,this.autoBtn),this.scoreDeposit=new egret.TextField,this.scoreDeposit.verticalAlign=egret.VerticalAlign.TOP,this.scoreDeposit.size=30,this.scoreDeposit.fontFamily="SimHei",this.scoreDeposit.textColor=16777215,this.scoreDeposit.text=this.scoreText,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y,this.addChild(this.scoreDeposit),this.autoBtnText=new egret.TextField,this.autoBtnText.verticalAlign=egret.VerticalAlign.TOP,this.autoBtnText.size=27,this.autoBtnText.fontFamily="SimHei",this.autoBtnText.textColor=16777215,this.autoBtnText.text="5",this.autoBtnText.anchorOffsetX=this.autoBtnText.width/2,this.autoBtnText.anchorOffsetY=this.autoBtnText.height/2,this.autoBtnText.x=this.autoBtn.x,this.autoBtnText.y=this.autoBtn.y,this.addChild(this.autoBtnText),this.autoBtnText.$setVisible(!1),this.recharge=new egret.TextField,this.recharge.verticalAlign=egret.VerticalAlign.TOP,this.recharge.size=27,this.recharge.fontFamily="SimHei",this.recharge.textColor=16777215,this.recharge.text="充值 > ",this.recharge.anchorOffsetX=this.recharge.width/2,this.recharge.anchorOffsetY=this.recharge.height/2,this.recharge.x=this.recharge.width/2+20,this.recharge.y=this.autoBtn.y+5,this.addChild(this.recharge),this.scoreAll=new egret.TextField,this.scoreAll.verticalAlign=egret.VerticalAlign.TOP,this.scoreAll.size=30,this.scoreAll.fontFamily="SimHei",this.scoreAll.textColor=16777215,this.scoreAll.text=this.scoreAllText,this.scoreAll.anchorOffsetX=this.scoreAll.width/2,this.scoreAll.anchorOffsetY=this.scoreAll.height/2,this.scoreAll.x=this.recharge.width+this.scoreAll.width/2+20,this.scoreAll.y=this.recharge.y,this.addChild(this.scoreAll),this.scoreIcon=Utils.createBitmapByName("gamebody_json.20"),this.addChild(this.scoreIcon),this.scoreIcon.anchorOffsetX=this.scoreIcon.width/2,this.scoreIcon.anchorOffsetY=this.scoreIcon.height/2,this.scoreIcon.x=this.recharge.width+this.scoreAll.width+this.scoreIcon.width+10,this.scoreIcon.y=this.recharge.y},e.prototype.starGame=function(){return parseInt(this.scoreAllText)<this.scoreText?void torechargeScore("1"):void(0==this.timesflag?0==this.startflag?(this.autoBtn.texture=RES.getRes("gamebody_json.11"),this.autoBtn.touchEnabled=!1,egret.Tween.get(this.listBtn).to({scaleY:0},100,egret.Ease.sineOut),this.startBtn.texture=RES.getRes("gamebody_json.9"),this.startBtn.touchEnabled=!1,this.gamecontrol.starGame(this.startflag,this.timesflag),this.startflag=1,this.addBtn.touchEnabled=!1,this.addBtn.texture=RES.getRes("gamebody_json.12"),this.reduceBtn.touchEnabled=!1,this.reduceBtn.texture=RES.getRes("gamebody_json.14")):1==this.startflag&&0==this.isStartBottonEndState&&(this.startBtn.texture=RES.getRes("gamebody_json.9"),this.startBtn.touchEnabled=!1,this.gamecontrol.starGame(this.startflag,this.timesflag)):1==this.timesflag&&(0==this.startflag?(this.startBtn.texture=RES.getRes("gamebody_json.21"),this.startBtn.touchEnabled=!0,this.gamecontrol.starGame(this.startflag,this.timesflag),this.startflag=1,this.addBtn.touchEnabled=!1,this.addBtn.texture=RES.getRes("gamebody_json.12"),this.reduceBtn.touchEnabled=!1,this.reduceBtn.texture=RES.getRes("gamebody_json.14")):1==this.startflag&&(this.timeses=0,0==this.isStartBottonEndState?(this.startBtn.texture=RES.getRes("gamebody_json.9"),this.startBtn.touchEnabled=!1):1==this.isStartBottonEndState&&(this.startBtn.texture=RES.getRes("gamebody_json.8"),this.startBtn.touchEnabled=!0))))},e.prototype.autoGame=function(){return parseInt(this.scoreAllText)<this.scoreText?void torechargeScore("1"):(this.timesflag=0,this.gamecontrol.autoGame(),void(0==this.autoflag?(this.autoflag=1,egret.Tween.get(this.listBtn).to({scaleY:1},100,egret.Ease.sineOut)):1==this.autoflag&&(this.autoflag=0,egret.Tween.get(this.listBtn).to({scaleY:0},100,egret.Ease.sineOut))))},e.prototype.addScore=function(){this.addReduceState=2,this.scoreText=10*this.scoreText,this.scoreText>=1e3&&(this.addBtn.touchEnabled=!1,this.addBtn.texture=RES.getRes("gamebody_json.12"),this.scoreText=1e3,this.addReduceState=1),this.gamecontrol.addScore(this.scoreText),this.reduceBtn.touchEnabled=!0,this.reduceBtn.texture=RES.getRes("gamebody_json.15"),this.scoreDeposit.text=this.scoreText,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y},e.prototype.reduceScore=function(){this.addReduceState=2,this.scoreText=this.scoreText/10,this.scoreText<=10&&(this.reduceBtn.touchEnabled=!1,this.reduceBtn.texture=RES.getRes("gamebody_json.14"),this.scoreText=10,this.addReduceState=3),this.gamecontrol.reduceScore(this.scoreText),this.addBtn.touchEnabled=!0,this.addBtn.texture=RES.getRes("gamebody_json.13"),this.scoreDeposit.text=this.scoreText,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y},e.prototype.setAddReduceState=function(){2==this.addReduceState?(this.addBtn.touchEnabled=!0,this.addBtn.texture=RES.getRes("gamebody_json.13"),this.reduceBtn.touchEnabled=!0,this.reduceBtn.texture=RES.getRes("gamebody_json.15")):1==this.addReduceState?(this.addBtn.touchEnabled=!0,this.addBtn.texture=RES.getRes("gamebody_json.12"),this.reduceBtn.touchEnabled=!0,this.reduceBtn.texture=RES.getRes("gamebody_json.15")):3==this.addReduceState&&(this.addBtn.touchEnabled=!0,this.addBtn.texture=RES.getRes("gamebody_json.13"),this.reduceBtn.touchEnabled=!0,this.reduceBtn.texture=RES.getRes("gamebody_json.14"))},e.prototype.setStartBottonSate=function(t){return this.freeTime>0?void this.setStartFreeBottonSate(t):(this.notwice=!0,this.scoreDeposit.text=this.scoreText,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y,this.isStartBottonEndState=t,void(0==this.timesflag?1==t?(this.autoBtnText.$setVisible(!1),this.startBtn.texture=RES.getRes("gamebody_json.8"),this.startBtn.touchEnabled=!0,this.startflag=0,this.autoBtn.texture=RES.getRes("gamebody_json.10"),this.autoBtn.touchEnabled=!0,this.setAddReduceState()):0==t&&0==this.startflag&&(this.startBtn.texture=RES.getRes("gamebody_json.9"),this.startBtn.touchEnabled=!1):1==this.timesflag&&1==t&&(this.timeses>0?(this.timeses--,this.startBtn.touchEnabled=!0,this.autoBtnText.text=this.timeses+"",this.autoBtnText.anchorOffsetX=this.autoBtnText.width/2,this.autoBtnText.anchorOffsetY=this.autoBtnText.height/2,this.autoBtnText.x=this.autoBtn.x,this.autoBtnText.y=this.autoBtn.y,this.startflag=0,this.isStartBottonEndState=0,this.starGame()):this.timeses<=0?(this.timesflag=0,this.startflag=0,this.isStartBottonEndState=0,this.autoBtnText.$setVisible(!1),this.autoBtn.texture=RES.getRes("gamebody_json.10"),this.autoBtn.touchEnabled=!0,this.startBtn.texture=RES.getRes("gamebody_json.8"),this.startBtn.touchEnabled=!0,this.setAddReduceState()):"∞"==this.timeses&&(this.startflag=0,this.isStartBottonEndState=0,this.starGame(),this.startBtn.touchEnabled=!0))))},e.prototype.setScoreText=function(t){this.scoreAllText=t,this.scoreAll.text=this.scoreAllText,this.scoreAll.anchorOffsetX=this.scoreAll.width/2,this.scoreAll.anchorOffsetY=this.scoreAll.height/2,this.scoreAll.x=this.recharge.width+this.scoreAll.width/2+20,this.scoreAll.y=this.recharge.y,this.scoreIcon.x=this.recharge.width+this.scoreAll.width+this.scoreIcon.width+10,this.scoreIcon.y=this.recharge.y},e.prototype.setAutoBotton=function(t){this.timesflag=1,"∞"!=t?this.timeses=parseInt(t)-1:this.timeses="∞",t=this.timeses,this.autoflag=0,this.autoBtnText.$setVisible(!0),this.autoBtnText.text=t,this.autoBtnText.anchorOffsetX=this.autoBtnText.width/2,this.autoBtnText.anchorOffsetY=this.autoBtnText.height/2,this.autoBtnText.x=this.autoBtn.x,this.autoBtnText.y=this.autoBtn.y,this.autoBtn.texture=RES.getRes("gamebody_json.26"),this.autoBtn.touchEnabled=!1,egret.Tween.get(this.listBtn).to({scaleY:0},100,egret.Ease.sineOut),this.startflag=0,this.isStartBottonEndState=0,this.starGame()},e.prototype.setBttonState=function(t,e){0==t?(this.timeses=0,this.autoBtnText.$setVisible(!0),this.autoBtnText.text="奖 励",this.autoBtnText.anchorOffsetX=this.autoBtnText.width/2,this.autoBtnText.anchorOffsetY=this.autoBtnText.height/2,this.autoBtnText.x=this.autoBtn.x,this.autoBtnText.y=this.autoBtn.y,this.autoBtn.texture=RES.getRes("gamebody_json.26"),this.autoBtn.touchEnabled=!1,egret.Tween.get(this.listBtn).to({scaleY:0},100,egret.Ease.sineOut),this.startBtn.texture=RES.getRes("gamebody_json.9"),this.startBtn.touchEnabled=!1,this.timesflag=t,this.handMovementFreeTime(e)):1==t&&(this.autoBtnText.$setVisible(!0),this.autoBtnText.text="奖 励",this.autoBtnText.anchorOffsetX=this.autoBtnText.width/2,this.autoBtnText.anchorOffsetY=this.autoBtnText.height/2,this.autoBtnText.x=this.autoBtn.x,this.autoBtnText.y=this.autoBtn.y,this.autoBtn.texture=RES.getRes("gamebody_json.26"),this.autoBtn.touchEnabled=!1,egret.Tween.get(this.listBtn).to({scaleY:0},100,egret.Ease.sineOut),this.startBtn.texture=RES.getRes("gamebody_json.27"),this.startBtn.touchEnabled=!1,this.timesflag=t,this.autoFreeTime(e))},e.prototype.handMovementFreeTime=function(t){this.freeTime+=t,this.scoreDeposit.text=this.freeTime,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y,this.startflag=0,this.isStartBottonEndState=0,this.handStarFreeGame()},e.prototype.handStarFreeGame=function(){this.notwice&&(this.notwice=!1,this.gamecontrol.starGame(this.startflag,this.timesflag))},e.prototype.autoFreeTime=function(t){this.freeTime+=t,this.scoreDeposit.text=this.freeTime,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y,this.startflag=0,this.isStartBottonEndState=0,this.autoStarGame()},e.prototype.autoStarGame=function(){this.notwice&&(this.notwice=!1,this.gamecontrol.starGame(this.startflag,this.timesflag))},e.prototype.reduceFreeTime=function(){this.freeTime--,this.scoreDeposit.text=this.freeTime,this.scoreDeposit.anchorOffsetX=this.scoreDeposit.width/2,this.scoreDeposit.anchorOffsetY=this.scoreDeposit.height/2,this.scoreDeposit.x=Utils.stageWith/2,this.scoreDeposit.y=this.reduceBtn.y},e.prototype.setStartFreeBottonSate=function(t){this.isStartBottonEndState=t,0==this.timesflag?1==t&&(this.startflag=0,this.isStartBottonEndState=0,this.gamecontrol.starGame(this.startflag,this.timesflag)):1==this.timesflag&&1==t&&(this.startflag=0,this.isStartBottonEndState=0,this.gamecontrol.starGame(this.startflag,this.timesflag))},e}(egret.DisplayObjectContainer);__reflect(GameButton.prototype,"GameButton");var Ease=egret.Ease,GameMain=function(t){function e(){var e=t.call(this)||this;return e._url=window.location.href,e.httphead="http://app.api.kkxiu.com",e.rightleftflag=!0,e.updownflag=!0,window.platformInstance=e,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){var e=this.GetRequest();this.token=e.token,this._vuid=e.uid,this.deviceno=e.deviceno+"",this.isfit=e.isfit+"",this.roomid=e.roomid+"","undefined"!=typeof e.httphead&&e.httphead.length>0?(this.httphead=e.httphead+"",this.apxlist=this.httphead+"/game/scjl/GetConfig.ashx"):this.apxlist=this.httphead+"/game/scjl/GetConfig.ashx",localStorage.setItem("token",JSON.stringify(this.token)),localStorage.setItem("uid",JSON.stringify(this._vuid)),localStorage.setItem("deviceno",JSON.stringify(this.deviceno)),localStorage.setItem("isfit",JSON.stringify(this.isfit)),localStorage.setItem("roomid",JSON.stringify(this.roomid)),this.setRequestScore()},e.prototype.refurbishScore=function(){var t=Date.parse((new Date).toString())/1e3,e="uid="+this._vuid+"&token="+this.token+"&encry=0&time="+t,i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(this.apxlist,egret.HttpMethod.POST),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(e),i.addEventListener(egret.Event.COMPLETE,this.onRefursh,this)},e.prototype.onRefursh=function(t){var e=t.currentTarget,i=JSON.parse(e.response);this.gamebotton.setScoreText(i.result.cumoney)},e.prototype.refurshGame=function(){this.removeChildren(),this.setRequestScore()},e.prototype.rightleftGame=function(){this.rightleftflag?(this.rightleftflag=!1,this.rightLeftHit()):(this.rightleftflag=!0,this.rightLeftShow())},e.prototype.rightLeftShow=function(){},e.prototype.rightLeftHit=function(){},e.prototype.updownglideGame=function(){this.updownflag?(this.updownflag=!1,this.hitdowngane()):(this.updownflag=!0,this.showdowngane())},e.prototype.hitdowngane=function(){this.gameespecially.deleteEspecially(),egret.Tween.get(this.gamebg).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gamemap).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.gamebotton).to({y:400},300,Ease.quadInOut),egret.Tween.get(this.shp).to({y:Utils.stageheight-376+400},300,Ease.quadInOut).call(this.hitdowncomplete,this,[])},e.prototype.hitdowncomplete=function(){hitGameCompleteGame("1"),this.gameespecially.setOpenEspecially(this.updownflag)},e.prototype.showdowngane=function(){this.gamebg.y=0,this.gamemap.y=0,this.gamebotton.y=0,this.shp.y=Utils.stageheight-376,this.showdowncomplete()},e.prototype.showdowncomplete=function(){showGameCompleteGame("1"),this.gameespecially.setOpenEspecially(this.updownflag)},e.prototype.GetRequest=function(){var t=this._url.indexOf("?"),e=this._url.substring(t),i=decodeURIComponent(e),s=new Object;if(-1!=i.indexOf("?"))for(var r=i.substr(1),o=r.split("&"),h=0;h<o.length;h++)s[o[h].split("=")[0]]=unescape(o[h].split("=")[1]);return s},e.prototype.setRequestScore=function(){var t=Date.parse((new Date).toString())/1e3,e="uid="+this._vuid+"&token="+this.token+"&encry=0&time="+t,i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(this.apxlist,egret.HttpMethod.POST),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(e),i.addEventListener(egret.Event.COMPLETE,this.onPostCompleteScore,this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOErrorScore,this)},e.prototype.onPostCompleteScore=function(t){var e=t.currentTarget,i=JSON.parse(e.response);1==i.rescode&&(this.gamecontrol=new GameControl(i.result.cumoney,this.token,this._vuid,this.deviceno,this.isfit,this.roomid,this.httphead),this.gamebg=new GameBG(this.gamecontrol),this.addChild(this.gamebg),this.gamemap=new GameMap(this.gamecontrol),this.addChild(this.gamemap),this.gamebotton=new GameButton(this.gamecontrol),this.addChild(this.gamebotton),this.gameespecially=new GameEspecially(this.gamecontrol,this.gamebotton),this.addChild(this.gameespecially),this.shp=new egret.Shape,this.shp.graphics.beginFill(0,1),this.shp.graphics.drawRect(0,0,Utils.stageWith,208),this.shp.graphics.endFill(),this.addChild(this.shp),this.shp.x=this.shp.width/2,this.shp.y=Utils.stageheight-376,this.shp.anchorOffsetX=this.shp.width/2,this.shp.alpha=1,this.gamemap.mask=this.shp,this.gamecontrol.setGameAllView(this.gamebg,this.gamebotton,this.gameespecially,this.gamemap),this.updownflag||(this.gamebg.y=400,this.gamemap.y=400,this.gamebotton.y=400,this.shp.y=Utils.stageheight-376+400),toCompleteGame())},e.prototype.onPostIOErrorScore=function(t){},e.prototype.setSeerenSize=function(t,e){"undefined"!=typeof this.gamecontrol&&null!=this.gamecontrol&&(this.gamecontrol.setScore(10),this.removeChildren(),this.stage.setContentSize(this.stage.stageWidth,e/t*this.stage.stageWidth),Utils.stageWith=this.stage.stageWidth,Utils.stageheight=this.stage.stageHeight,this.gamebg=new GameBG(this.gamecontrol),this.addChild(this.gamebg),this.gamemap=new GameMap(this.gamecontrol),this.addChild(this.gamemap),this.gamebotton=new GameButton(this.gamecontrol),this.addChild(this.gamebotton),this.gameespecially=new GameEspecially(this.gamecontrol,this.gamebotton),this.addChild(this.gameespecially),this.shp=new egret.Shape,this.shp.graphics.beginFill(0,1),this.shp.graphics.drawRect(0,0,Utils.stageWith,208),this.shp.graphics.endFill(),this.addChild(this.shp),this.shp.x=this.shp.width/2,this.shp.y=Utils.stageheight-376,this.shp.anchorOffsetX=this.shp.width/2,this.shp.alpha=1,this.gamemap.mask=this.shp,this.gamecontrol.setGameAllView(this.gamebg,this.gamebotton,this.gameespecially,this.gamemap),this.updownflag||(this.gamebg.y=400,this.gamemap.y=400,this.gamebotton.y=400,this.shp.y=Utils.stageheight-376+400))},e}(egret.DisplayObjectContainer);__reflect(GameMain.prototype,"GameMain");var Main=function(t){function e(){var e=t.call(this)||this;return e.resorceJson={groups:[{keys:"description_json,gamebody_json,gameespecially_json,starjson_json",name:"preload"}],resources:[{name:"description_json",type:"json",url:"config/description.json"},{name:"gamebody_json",type:"sheet",url:"assets/gamebody.json"},{name:"gameespecially_json",type:"sheet",url:"assets/gameespecially.json"},{name:"starjson_json",type:"sheet",url:"assets/starjson.json"}]},window.platform=e,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},e.prototype.onItemLoadError=function(t){},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){getScreen();var t=new GameMain;this.addChild(t)},e.prototype.setScreenSize=function(t,e){this.stage.setContentSize(this.stage.stageWidth,e/t*this.stage.stageWidth),Utils.stageWith=this.stage.stageWidth,Utils.stageheight=this.stage.stageHeight},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var GameControl=function(){function t(t,e,i,s,r,o,h){this.score=10,this.endStartFlag=!0,this.requestResult=t,this.token=e,this._vuid=i,this.deviceno=s,this.isfit=r,this.roomid=o,this.httphead=h,this.start=this.httphead+"/game/scjl/Start.ashx",this.shop=this.httphead+"/game/scjl/Stop.ashx"}return t.prototype.setGameAllView=function(t,e,i,s){this.gamebg=t,this.gamebotton=e,this.gamebotton.setScoreText(this.requestResult),this.gameespecially=i,this.gamemap=s},t.prototype.starGame=function(t,e){this.timesflag=e,0==t?this.startRollGame():1==t&&this.endRollGame()},t.prototype.autoGame=function(){},t.prototype.setScore=function(t){this.score=t},t.prototype.addScore=function(t){this.score=t},t.prototype.reduceScore=function(t){this.score=t},t.prototype.especiallCompelet=function(){this.gameespecially.setRemoveChild(),this.gamemap.setNomultiple(),this.gamebotton.setStartBottonSate(this.isStartBottonState)},t.prototype.especiallCompeletFreetime=function(){this.gameespecially.setRemoveChild(),this.gamebotton.setBttonState(this.timesflag,parseInt(this.freecount)),this.gamebotton.setStartBottonSate(this.isStartBottonState)},t.prototype.setIsStartState=function(t){this.isStartBottonState=t,1==t?(this.timer=new egret.Timer(300,1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.startPuserTimerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startPusesTimerComFunc,this),this.timer.start()):this.gamebotton.setStartBottonSate(this.isStartBottonState)},t.prototype.startPuserTimerFunc=function(t){this.setScoreText(this.cumoney),toOnChangeScore(this.cumoney+""),1==this.iswin?(this.gameespecially.setRemoveChild(),this.awardmsg&&toprizeScore(this.awardmsg),this.gameespecially.setEspeciallyBegin(parseInt(this.oddindex),this.score,this.winmoney,this.multiple),2==parseInt(this.multiple)?this.gamemap.setIsmultiple():4==parseInt(this.multiple)&&this.gamemap.setIsmultiple()):this.gamebotton.setStartBottonSate(this.isStartBottonState)},t.prototype.startPusesTimerComFunc=function(t){this.timer.removeEventListener(egret.TimerEvent.TIMER,this.startPuserTimerFunc,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startPuserTimerFunc,this)},t.prototype.setScoreText=function(t){this.gamebotton.setScoreText(t)},t.prototype.startRollGame=function(){this.endStartFlag&&(this.endStartFlag=!1,this.gamebotton.freeTime>0?(this.gamebotton.reduceFreeTime(),this.requestStartGame(this.score,1,this._vuid,this.token)):this.requestStartGame(this.score,0,this._vuid,this.token))},t.prototype.endRollGame=function(){this.endStartFlag||(this.endStartFlag=!0,this.requestEndGame(this.gameid,this._vuid,this.token,this.roomid))},t.prototype.requestStartGame=function(t,e,i,s){var r=Date.parse((new Date).toString())/1e3,o="uid="+i+"&token="+s+"&encry=0&time="+r+"&betmoney="+t+"&isfree="+e,h=new egret.HttpRequest;h.responseType=egret.HttpResponseType.TEXT,h.open(this.start,egret.HttpMethod.POST),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(o),h.addEventListener(egret.Event.COMPLETE,this.onPostCompleteScore,this),h.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOErrorScore,this)},t.prototype.onPostCompleteScore=function(t){var e=t.currentTarget,i=JSON.parse(e.response);1==i.rescode?(this.setScoreText(i.result.cumoney),toOnChangeScore(i.result.cumoney+""),this.gameid=i.result.gameid,this.gamemap.startRoll(this.timesflag)):-2==i.rescode&&(this.setScoreText(i.result.cumoney),toOnChangeScore(i.result.cumoney+""),torechargeScore("1"))},t.prototype.onPostIOErrorScore=function(t){},t.prototype.requestEndGame=function(t,e,i,s){var r=Date.parse((new Date).toString())/1e3,o="uid="+e+"&token="+i+"&encry=0&time="+r+"&gameid="+t+"&roomid="+s,h=new egret.HttpRequest;h.responseType=egret.HttpResponseType.TEXT,h.open(this.shop,egret.HttpMethod.POST),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(o),h.addEventListener(egret.Event.COMPLETE,this.onPostCompleteEndScore,this),h.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOErrorEndScore,this)},t.prototype.onPostCompleteEndScore=function(t){var e=t.currentTarget,i=JSON.parse(e.response);console.log(i),1==i.rescode&&(this.one=this.transformNumber(parseInt(i.result.result1)),this.two=this.transformNumber(parseInt(i.result.result2)),this.three=this.transformNumber(parseInt(i.result.result3)),this.gameresult=new GameFruitItem(this.one,this.two,this.three),this.freecount=i.result.freecount,this.iswin=i.result.iswin,this.winmoney=i.result.winmoney,this.cumoney=i.result.cumoney,this.multiple=i.result.multiple,this.oddindex=i.result.oddindex,i.result.awardmsg&&(this.awardmsg=JSON.stringify(i.result.awardmsg)),this.gamemap.endRoll(this.gameresult))},t.prototype.onPostIOErrorEndScore=function(t){},t.prototype.transformNumber=function(t){switch(t){case 1:return 4;case 2:return 1;case 3:return 6;case 4:return 3;case 5:return 2;case 6:return 0;case 7:return 5;case 8:return 8}},t}();__reflect(GameControl.prototype,"GameControl");var GameFruitItem=function(){function t(t,e,i){this.one=t,this.two=e,this.three=i}return t.prototype.getIndex=function(t){switch(t){case 0:return this.one;case 1:return this.two;case 2:return this.three}},t}();__reflect(GameFruitItem.prototype,"GameFruitItem");var GameTest=function(){function t(){this.fruitIdList=[0,1,2,3,4,5,6,8],this.fruitIdResult=new Array;for(var t=0;t<this.fruitIdList.length;t++)for(var e=0;e<this.fruitIdList.length;e++)for(var i=0;i<this.fruitIdList.length;i++){var s=new GameFruitItem(this.fruitIdList[t],this.fruitIdList[e],this.fruitIdList[i]);this.fruitIdResult.push(s)}}return t.prototype.getFruitIdResult=function(){return this.fruitIdResult[Math.round(511*Math.random())]},t}();__reflect(GameTest.prototype,"GameTest");var Utils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t.stageheight=1334,t.stageWith=750,t}();__reflect(Utils.prototype,"Utils");var GameAutoBtnitem=function(t){function e(e,i){var s=t.call(this)||this;return s.itemMiddleRes="24",s.itemEnd="23",s.itemTextRes=i,0!=e?s.itemRes=s.itemMiddleRes:s.itemRes=s.itemEnd,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){this.itemBg=Utils.createBitmapByName(this.itemRes),this.addChild(this.itemBg),this.itemBg.anchorOffsetX=this.itemBg.width/2,this.itemBg.anchorOffsetY=this.itemBg.height/2,this.itemText=new egret.TextField,this.itemText.verticalAlign=egret.VerticalAlign.TOP,this.itemText.size=27,this.itemText.fontFamily="SimHei",this.itemText.textColor=16777215,this.itemText.text=this.itemTextRes,this.itemText.anchorOffsetX=this.itemText.width/2,this.itemText.anchorOffsetY=this.itemText.height/2,this.itemText.x=this.itemBg.x,this.itemText.y=this.itemBg.y+6,this.addChild(this.itemText)},e.prototype.getItemTextRes=function(){return this.itemTextRes},e}(egret.Sprite);__reflect(GameAutoBtnitem.prototype,"GameAutoBtnitem");var GameAutoBtnList=function(t){function e(e){var i=t.call(this)||this;return i.timesList=["∞","100","50","20","10"],i.GameAutoBtnlist=new Array,i.gameBut=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.timesList.length;e++){var i=new GameAutoBtnitem(e,this.timesList[e]);this.addChild(i),i.y=e*i.height,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.setAutoTimes,this),this.GameAutoBtnlist.push(i)}},e.prototype.setAutoTimes=function(t){this.gameBut.setAutoBotton(t.target.getItemTextRes())},e}(egret.Sprite);__reflect(GameAutoBtnList.prototype,"GameAutoBtnList");var GameBG=function(t){function e(e){var i=t.call(this)||this;return i.gamecontrol=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.rechargebottn=new egret.Shape,this.rechargebottn.graphics.beginFill(0,1),this.rechargebottn.graphics.drawRect(0,Utils.stageheight-59,300,50),this.rechargebottn.graphics.endFill(),this.addChild(this.rechargebottn),this.rechargebottn.alpha=1,this.rechargebottn.touchEnabled=!0,this.rechargebottn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rechargeMeth,this),this.bgimg=Utils.createBitmapByName("gamebody_json.17"),this.addChild(this.bgimg),this.bgimg.anchorOffsetY=this.bgimg.height/2,this.bgimg.y=Utils.stageheight-this.bgimg.height/2},e.prototype.rechargeMeth=function(){torechargeScore("0")},e}(egret.DisplayObjectContainer);__reflect(GameBG.prototype,"GameBG");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var GameFruit=function(t){function e(e,i,s){var r=t.call(this)||this;return r.fruidName=e,r.id=i,r.position=s,r.addEventListener(egret.Event.ADDED_TO_STAGE,r.onAddToStage,r),r}return __extends(e,t),e.prototype.getPosition=function(){return this.position},e.prototype.setPosition=function(){this.position+=1},e.prototype.onAddToStage=function(t){this.fruit=Utils.createBitmapByName(this.fruidName),this.addChild(this.fruit),this.fruit.width=this.fruit.width,this.fruit.height=this.fruit.height,this.fruit.anchorOffsetX=this.fruit.width/2,this.fruit.anchorOffsetY=this.fruit.height/2,this.fruit.x=this.fruit.width/2},e.prototype.getFruitHeight=function(){return this.fruit.height},e.prototype.getFruitId=function(){return this.id},e.prototype.setfruitRes=function(t){this.fruit.texture=RES.getRes(t)
},e}(egret.Sprite);__reflect(GameFruit.prototype,"GameFruit");var GameMap=function(t){function e(e){var i=t.call(this)||this;return i.gamemapchildlist=new Array,i.childnumber=3,i.gamecontrol=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.childnumber;e++){var i=new GameMapChild(e,this);this.addChild(i),i.x=80+215*e,i.y=Utils.stageheight-754,this.gamemapchildlist.push(i)}},e.prototype.startRoll=function(t){for(var e=0;e<this.childnumber;e++)this.gamemapchildlist[e].setRoll(t)},e.prototype.endRoll=function(t){for(var e=0;e<this.childnumber;e++)this.gamemapchildlist[e].setEndRoll(t)},e.prototype.isAllStop=function(t,e){switch(t){case 0:this.oneFruit=e;break;case 1:this.twoFruit=e;break;case 2:this.threeFruit=e}1==this.oneFruit&&1==this.twoFruit&&1==this.threeFruit?(this.isStartBottonState=1,this.gamecontrol.setIsStartState(this.isStartBottonState)):(this.isStartBottonState=0,this.gamecontrol.setIsStartState(this.isStartBottonState))},e.prototype.isAllSpeedMax=function(t,e){switch(t){case 0:this.oneFruitEnd=e;break;case 1:this.twoFruitEnd=e;break;case 2:this.threeFruitEnd=e}1==this.oneFruitEnd&&1==this.twoFruitEnd&&1==this.threeFruitEnd&&this.gamecontrol.endRollGame()},e.prototype.setIsmultiple=function(){for(var t=0;t<this.childnumber;t++)this.gamemapchildlist[t].setIsmultiple()},e.prototype.setNomultiple=function(){for(var t=0;t<this.childnumber;t++)this.gamemapchildlist[t].setNomultiple()},e}(egret.DisplayObjectContainer);__reflect(GameMap.prototype,"GameMap");var GameMapChild=function(t){function e(e,i){var s=t.call(this)||this;return s.fruitRESList=["gamebody_json.4","gamebody_json.2","gamebody_json.5","gamebody_json.1","gamebody_json.3","gamebody_json.6","gamebody_json.7"],s.fruitList=new Array,s.speedMAX=2,s.speedMIN=.5,s.accelerationAndDeceleration=!0,s.selectFruitY=480,s.selectSpecaY=540,s.isSpace=!1,s.isSpeedMaxflag=0,s.type=e,s.accelerationDaly=300*e,s.decelerationDaly=1300*(e+1),s.gamemap=i,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){for(var e=0;e<this.fruitRESList.length;e++){var i=new GameFruit(this.fruitRESList[e],e,e);this.addChild(i),i.y=e*i.getFruitHeight(),this.fruitList.push(i)}this.startY=this.fruitList[0].y,this.endY=this.fruitList[6].y+this.fruitList[6].height},e.prototype.setRoll=function(t){this.timesflag=t,this.startSpeed=this.speedMIN+.1,this.accelerationAndDeceleration=!0,this.timer=new egret.Timer(1,1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.startTimerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startTimerComFunc,this),this.timer.start()},e.prototype.startTimerFunc=function(t){this.setRunState(0),this.isSpeedMax(0),this.addEventListener(egret.Event.ENTER_FRAME,this.startRoll,this),this.timeOnEnterFrame=egret.getTimer()},e.prototype.startTimerComFunc=function(t){this.removeEventListener(egret.TimerEvent.TIMER,this.startTimerFunc,this),this.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startTimerComFunc,this)},e.prototype.startRoll=function(){this.accelerationAndDeceleration?this.startSpeed<this.speedMAX?this.startSpeed=this.speedMAX:(0==this.isSpeedMaxflag&&(this.isSpeedMaxflag=1,this.isSpeedMax(1)),this.startSpeed=this.speedMAX):this.startSpeed>this.speedMIN?this.startSpeed-=.5:this.startSpeed=this.speedMIN;for(var t=egret.getTimer(),e=this.timeOnEnterFrame,i=t-e,s=0;s<this.fruitList.length;s++){if(this.fruitList[s].y+=this.startSpeed*i,this.fruitList[s].y>=this.endY){var r=this.fruitList[s].y-this.endY;this.fruitList[s].y=this.startY+r;for(var o=0;o<this.fruitList.length;o++)this.fruitList[o].setPosition()}if(this.isSpace){if(this.startSpeed==this.speedMIN&&this.fruitIndex==s){var h=Math.abs(this.fruitList[this.fruitIndex].y-this.selectSpecaY);if(20>=h){for(var a=0;a<this.fruitList.length;a++)this.fruitList[a].setPosition(),this.fruitList[a].y=this.fruitList[a].getPosition()%7*120+60;this.setRunState(1),this.isSpeedMaxflag=0,this.removeEventListener(egret.Event.ENTER_FRAME,this.startRoll,this)}}}else if(this.startSpeed==this.speedMIN&&this.fruitIndex==s){var h=Math.abs(this.fruitList[this.fruitIndex].y-this.selectFruitY);if(20>=h){for(var n=0;n<this.fruitList.length;n++)this.fruitList[n].setPosition(),this.fruitList[n].y=this.fruitList[n].getPosition()%7*120;this.setRunState(1),this.isSpeedMaxflag=0,this.removeEventListener(egret.Event.ENTER_FRAME,this.startRoll,this)}}}this.timeOnEnterFrame=egret.getTimer()},e.prototype.setEndRoll=function(t){var e=t.getIndex(this.type);8!=e?(this.fruitIndex=e,this.isSpace=!1):(this.isSpace=!0,this.fruitIndex=Math.round(6*Math.random())),this.startSpeed=this.speedMAX,this.timer=new egret.Timer(this.decelerationDaly,1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.endTimerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.endTimerComFunc,this),this.timer.start()},e.prototype.endTimerFunc=function(t){this.endRoll()},e.prototype.endTimerComFunc=function(t){this.timer.removeEventListener(egret.TimerEvent.TIMER,this.endTimerFunc,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.endTimerComFunc,this)},e.prototype.endRoll=function(){this.accelerationAndDeceleration=!1},e.prototype.setRunState=function(t){this.gamemap.isAllStop(this.type,t)},e.prototype.isSpeedMax=function(t){this.gamemap.isAllSpeedMax(this.type,t)},e.prototype.setIsmultiple=function(){this.fruitList[4].setfruitRes("gamebody_json.19")},e.prototype.setNomultiple=function(){this.fruitList[4].setfruitRes(this.fruitRESList[4])},e}(egret.DisplayObjectContainer);__reflect(GameMapChild.prototype,"GameMapChild");var GameEspecially=function(t){function e(e,i){var s=t.call(this)||this;return s.isopen=!0,s.gamecontrol=e,s.gamebutton=i,s.addEventListener(egret.Event.ADDED_TO_STAGE,s.onAddToStage,s),s}return __extends(e,t),e.prototype.onAddToStage=function(t){},e.prototype.setOpenEspecially=function(t){this.isopen=t},e.prototype.deleteEspecially=function(){this.contains(this.ordinary)&&this.ordinary.$setVisible(!1)},e.prototype.setEspeciallyBegin=function(t,e,i,s){switch(t){case 0:this.hortation=new GameEspeciallyHortaiton(this,e,i,0),this.addChild(this.hortation);break;case 1:0==parseInt(s)?(this.ordinary=new GameEspeciallyOrdinary(this,i,s,this.isopen),this.addChild(this.ordinary)):(this.hortation=new GameEspeciallyHortaiton(this,e,i,3),this.addChild(this.hortation));break;case 2:0==parseInt(s)?(this.ordinary=new GameEspeciallyOrdinary(this,i,s,this.isopen),this.addChild(this.ordinary)):(this.hortation=new GameEspeciallyHortaiton(this,e,i,3),this.addChild(this.hortation));break;case 3:case 4:case 5:case 6:case 7:this.hortation=new GameEspeciallyHortaiton(this,e,i,t),this.addChild(this.hortation);break;case 8:this.hortation=new GameEspeciallyHortaiton(this,e,i,t),this.addChild(this.hortation);break;case 9:this.hortation=new GameEspeciallyHortaiton(this,e,i,t),this.addChild(this.hortation)}},e.prototype.especiallyCompelet=function(){this.removeChildren(),this.scoreIconMove=new ScoreIconMove(this,Utils.stageWith/2,Utils.stageheight-514,this.gamebutton.scoreIcon.x,this.gamebutton.scoreIcon.y),this.addChild(this.scoreIconMove)},e.prototype.especiallyFreeTime=function(){this.gamecontrol.especiallCompeletFreetime()},e.prototype.setRemoveChild=function(){this.removeChildren()},e.prototype.onIconCompeletObject=function(){this.contains(this.scoreIconMove)&&this.removeChild(this.scoreIconMove),this.gamecontrol.especiallCompelet()},e}(egret.DisplayObjectContainer);__reflect(GameEspecially.prototype,"GameEspecially");var GameEspeciallyHortaiton=function(t){function e(e,i,s,r){var o=t.call(this)||this;return o.large="gameespecially_json.large",o.verylarge="gameespecially_json.verylarge",o.times="gameespecially_json.times",o.i=1,o.showTextScore=0,o.gameespecially=e,o.winScore=s,o.gameScore=i+"",o.type=r,0==r?o.shouRes=o.times:3==r||4==r||5==r||6==r||7==r?o.shouRes=o.large:(9==r||8==r)&&(o.shouRes=o.verylarge),4==o.gameScore.length?9==r?o.upScore=11111:8==r?o.upScore=5555:o.upScore=1111:3==o.gameScore.length?9==r?o.upScore=1111:8==r?o.upScore=555:o.upScore=111:2==o.gameScore.length&&(9==r?o.upScore=111:8==r?o.upScore=55:o.upScore=11),o.addEventListener(egret.Event.ADDED_TO_STAGE,o.onAddToStage,o),o}return __extends(e,t),e.prototype.onAddToStage=function(t){this.bglarge=Utils.createBitmapByName("gameespecially_json.bglarge"),this.addChild(this.bglarge),this.bglarge.anchorOffsetY=this.bglarge.height/2,this.bglarge.anchorOffsetX=this.bglarge.width/2,this.bglarge.x=Utils.stageWith/2,this.bglarge.y=Utils.stageheight-680,this.runing=Utils.createBitmapByName("gameespecially_json.runing"),this.addChild(this.runing),this.runing.anchorOffsetY=this.runing.height/2,this.runing.anchorOffsetX=this.runing.width/2,this.runing.x=Utils.stageWith/2,this.runing.y=Utils.stageheight-680,this.runing.scaleX=.5,this.runing.scaleY=.5,this.runing.$setVisible(!1),this.lagrebitmap=Utils.createBitmapByName(this.shouRes),this.addChild(this.lagrebitmap),this.lagrebitmap.anchorOffsetY=this.lagrebitmap.height/2,this.lagrebitmap.anchorOffsetX=this.lagrebitmap.width/2,this.lagrebitmap.x=Utils.stageWith/2,this.lagrebitmap.y=Utils.stageheight-680,this.lagrebitmap.scaleX=0,this.lagrebitmap.scaleY=0,this.lagrebitmap.alpha=0,this.addChild(this.lagrebitmap),this.starbitmap=Utils.createBitmapByName("starjson_json.1"),this.addChild(this.starbitmap),this.starbitmap.anchorOffsetY=this.starbitmap.height/2,this.starbitmap.anchorOffsetX=this.starbitmap.width/2,this.starbitmap.x=Utils.stageWith/2,this.starbitmap.y=Utils.stageheight-680,this.starbitmap.scaleX=0,this.starbitmap.scaleY=0,this.addEventListener(egret.Event.ENTER_FRAME,this.movestar,this),0!=this.type&&(this.scoreNumber=new GameEspeciallyMath(this.i),this.addChild(this.scoreNumber)),egret.Tween.get(this.bglarge,{loop:!0}).to({rotation:360,alpha:0},2e4,egret.Ease.sineOut),egret.Tween.get(this.starbitmap).to({scaleX:1,scaleY:1,alpha:1},500,egret.Ease.backOut),egret.Tween.get(this.lagrebitmap).to({scaleX:1,scaleY:1,alpha:.8},500,egret.Ease.backOut).call(this.shouText,this,[]),this.timer=new egret.Timer(8e3,1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.startTimerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startTimerComFunc,this),this.timer.start()},e.prototype.startTimerFunc=function(t){0==this.type?this.gameespecially.especiallyFreeTime():this.gameespecially.especiallyCompelet()},e.prototype.startTimerComFunc=function(t){this.removeEventListener(egret.TimerEvent.TIMER,this.startTimerFunc,this),this.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startTimerComFunc,this)},e.prototype.shouText=function(){this.runing.$setVisible(!0),egret.Tween.get(this.runing).to({scaleX:5,scaleY:5,alpha:0},5e3,egret.Ease.sineOut)},e.prototype.movestar=function(){if(this.i>=5&&this.i%40>5?this.starbitmap.texture=RES.getRes("starjson_json."+this.i%40):this.i<5&&(this.starbitmap.texture=RES.getRes("starjson_json."+this.i%40)),0!=this.type)if(this.showTextScore>=parseInt(this.winScore))this.showTextScore=parseInt(this.winScore),this.scoreNumber.setnumber(this.showTextScore);else{var t=Math.ceil(parseInt(this.winScore)/150);this.showTextScore+=t,this.scoreNumber.setnumber(this.showTextScore)}this.i++},e}(egret.Sprite);__reflect(GameEspeciallyHortaiton.prototype,"GameEspeciallyHortaiton");var GameEspeciallyMath=function(t){function e(e){var i=t.call(this)||this;return i.numbersString=e+"",i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.setnumber(this.numbersString)},e.prototype.setnumber=function(t){this.removeChildren(),this.numberbitMapList=new Array,this.numbersString=t+"",this.scoreNumberlist=this.numbersString.split("");for(var e=0;e<this.numbersString.length;e++){var i=Utils.createBitmapByName("gameespecially_json.9_0000_"+this.scoreNumberlist[e]);this.addChild(i),i.anchorOffsetY=i.height/2,i.anchorOffsetX=i.width/2,this.numberbitMapList.length<=0?(i.x=e*i.width,i.y=Utils.stageheight-514):(i.x=this.numberbitMapList[e-1].x+this.numberbitMapList[e-1].width/2+i.width/2,i.y=this.numberbitMapList[e-1].y),this.numberbitMapList.push(i)}for(var s=0,r=0;r<this.numberbitMapList.length;r++)s+=this.numberbitMapList[r].width;for(var o=(Utils.stageWith-s)/2,h=0;h<this.numberbitMapList.length;h++)this.numberbitMapList[h].x=this.numberbitMapList[h].x+o+this.numberbitMapList[0].width/2},e}(egret.Sprite);__reflect(GameEspeciallyMath.prototype,"GameEspeciallyMath");var GameEspeciallyOrdinary=function(t){function e(e,i,s,r){var o=t.call(this)||this;return o.ordinarylist=new Array,o.ordinaryNumber=3,o.score=i,o.gameespecially=e,o.multiple=s,o.isopen=r,o.addEventListener(egret.Event.ADDED_TO_STAGE,o.onAddToStage,o),o}return __extends(e,t),e.prototype.onAddToStage=function(t){if(this.isopen){for(var e=0;e<this.ordinaryNumber;e++){var i=Utils.createBitmapByName("gamebody_json.16");this.addChild(i),i.anchorOffsetY=i.height/2,i.y=Utils.stageheight-272,i.x=46+i.width*e*37.9/40,i.alpha=.5,this.ordinarylist.push(i)}var s=new GameEspeciallyScoreNumber(this.score);this.addChild(s)}this.setTweenAniman()},e.prototype.setTweenAniman=function(){if(this.isopen)for(var t=0;t<this.ordinarylist.length;t++)egret.Tween.get(this.ordinarylist[t],{loop:!0}).to({alpha:1},500,egret.Ease.sineIn).to({alpha:.5},500,egret.Ease.sineOut);this.score>=10&&(this.timer=new egret.Timer(1500,1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.startTimerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startTimerComFunc,this),this.timer.start())},e.prototype.startTimerFunc=function(t){this.gameespecially.especiallyCompelet()},e.prototype.startTimerComFunc=function(t){this.removeEventListener(egret.TimerEvent.TIMER,this.startTimerFunc,this),this.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.startTimerComFunc,this)},e}(egret.Sprite);__reflect(GameEspeciallyOrdinary.prototype,"GameEspeciallyOrdinary");var GameEspeciallyScoreNumber=function(t){function e(e){var i=t.call(this)||this;return i.score=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(t){this.ordinaryBg=Utils.createBitmapByName("gamebody_json.25"),this.addChild(this.ordinaryBg),this.ordinaryBg.anchorOffsetY=this.ordinaryBg.height/2,this.ordinaryBg.anchorOffsetX=this.ordinaryBg.width/2,this.ordinaryBg.x=Utils.stageWith/2,this.ordinaryBg.y=Utils.stageheight-514,this.scoreNumber=new GameEspeciallyMath(this.score),this.addChild(this.scoreNumber),this.scoreNumber.anchorOffsetX=0,this.scoreNumber.alpha=0,this.ordinaryBg.scaleY=0,this.ordinaryBg.scaleX=0,this.ordinaryBg.alpha=0,egret.Tween.get(this.ordinaryBg).to({alpha:1,scaleX:1,scaleY:1},500,egret.Ease.sineIn),egret.Tween.get(this.scoreNumber).to({alpha:1},500,egret.Ease.sineIn)},e}(egret.Sprite);__reflect(GameEspeciallyScoreNumber.prototype,"GameEspeciallyScoreNumber");var ScoreIconMove=function(t){function e(e,i,s,r,o){var h=t.call(this)||this;return h.targetObject=e,h.startX=i,h.startY=s,h.endX=r,h.endY=o,h.addEventListener(egret.Event.ADDED_TO_STAGE,h.onAddToStage,h),h}return __extends(e,t),e.prototype.onAddToStage=function(t){this.scoreIconlist=new Array;for(var e=0;5>e;e++){var i=Utils.createBitmapByName("gamebody_json.20");this.addChild(i),i.anchorOffsetY=i.height/2,i.anchorOffsetX=i.width/2,i.scaleX=0,i.scaleY=0,i.x=this.startX,i.y=this.startY,this.scoreIconlist.push(i)}egret.Tween.get(this.scoreIconlist[0]).to({scaleX:1,scaleY:1},100,egret.Ease.quadInOut).call(this.createIcon,this,[1]).to({y:this.endY,x:this.endX},500,egret.Ease.quadInOut)},e.prototype.createIcon=function(t){t<this.scoreIconlist.length-1?egret.Tween.get(this.scoreIconlist[t]).to({scaleX:1,scaleY:1},100,egret.Ease.quadInOut).call(this.createIcon,this,[t+1]).to({y:this.endY,x:this.endX},500,egret.Ease.quadInOut):egret.Tween.get(this.scoreIconlist[t]).to({scaleX:1,scaleY:1},100,egret.Ease.quadInOut).to({y:this.endY,x:this.endX},500,egret.Ease.quadInOut).call(this.onIconCompelet,this,[])},e.prototype.onIconCompelet=function(){this.targetObject.onIconCompeletObject()},e}(egret.DisplayObjectContainer);__reflect(ScoreIconMove.prototype,"ScoreIconMove");